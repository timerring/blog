<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="
GnuPG is a complete and free implementation of the OpenPGP standard as defined by RFC4880(also known as PGP). GnuPG allows you to encrypt and sign your data and communications; it features a versatile key management system, along with access modules for all kinds of public key directories. GnuPG, also known as GPG, is a command line tool with features for easy integration with other applications.

This article I will introduce the basic usage of GPG."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="GPG 101"><meta property="og:description" content="
GnuPG is a complete and free implementation of the OpenPGP standard as defined by RFC4880(also known as PGP). GnuPG allows you to encrypt and sign your data and communications; it features a versatile key management system, along with access modules for all kinds of public key directories. GnuPG, also known as GPG, is a command line tool with features for easy integration with other applications.

This article I will introduce the basic usage of GPG."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.timerring.com/posts/gpg-101/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-12-17T20:26:57+08:00"><meta property="article:modified_time" content="2024-12-17T20:26:57+08:00"><title>GPG 101 | timerring</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.e5c400e9a39f7eafc90351230108cdc038497f3b6478689fe605ab3dd006274d.css integrity="sha256-5cQA6aOffq/JA1EjAQjNwDhJfztkeGif5gWrPdAGJ00=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script>
<script defer src=/en.search.min.c113dcbfa534e5ee2fdc9e9136ab46b451de039843e68ca628fb2784ffff77b1.js integrity="sha256-wRPcv6U05e4v3J6RNqtGtFHeA5hD5oymKPsnhP//d7E=" crossorigin=anonymous></script>
<script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><meta name=referrer content="no-referrer-when-downgrade"></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><img src=/favicon.png alt=Logo><span>timerring</span></a></h2><hr><p>Rhythmic trend.</p><div class=book-search><div class=gcse-search></div></div><script async src="https://cse.google.com/cse.js?cx=40782701766144f96"></script><ul><li><a href=/>Dashboard</a></li><li><a href=/posts/>Blogs</a></li><li><a href=/categories/weekly/>Newsletter</a></li><li><a href=/index.xml>RSS</a></li><li><a href=/friends/>Friends</a></li><li><a href=/about/>About</a></li></ul><script>function goToRandomPost(){const e=["/posts/video-technology-101/?utm_source=random","/posts/the-main-kind-of-message-queue/?utm_source=random","/posts/the-method-to-manage-traffic/?utm_source=random","/posts/the-different-kind-of-api-design/?utm_source=random","/posts/the-encode-and-decode-in-python/?utm_source=random","/posts/about-the-systemd/?utm_source=random","/posts/docker-cheatsheet/?utm_source=random","/posts/docker-101/?utm_source=random","/posts/the-instance-class-static-magic-method-in-python/?utm_source=random","/posts/the-overview-of-security/?utm_source=random","/posts/how-to-publish-your-code-as-a-pip-module/?utm_source=random","/posts/some-good-things-to-share-about-the-packages/?utm_source=random","/posts/introduction-to-the-http-and-https-protocol/?utm_source=random","/posts/mail-service-and-protocol/?utm_source=random","/posts/thinking-about-advertisement-from-an-open-source-perspective/?utm_source=random","/posts/understanding-clash-through-configuration/?utm_source=random","/posts/a-brief-introduction-to-dns/?utm_source=random","/posts/real-computer-network/?utm_source=random","/posts/python-generator-iterator-and-decorator/?utm_source=random","/posts/python-underlying-mechanism/?utm_source=random","/posts/python-files-exceptions-and-modules/?utm_source=random","/posts/python-object-oriented-programming/?utm_source=random","/posts/python-cheatsheet/?utm_source=random","/posts/python-function-parameter/?utm_source=random","/posts/python-control-structure/?utm_source=random","/posts/python-composite-data-type/?utm_source=random","/posts/python-basic-data-type/?utm_source=random","/posts/python-basic-syntax-elements/?utm_source=random","/posts/deploy-github-pages-with-gpg-signing/?utm_source=random","/posts/gpg-101/?utm_source=random","/posts/housewarming-2024/?utm_source=random"],t=Math.floor(Math.random()*e.length);window.location.href=e[t]}</script><a class=random onclick=goToRandomPost()>Stroll</a></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>timerring</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#what-is-gpg>What is GPG?</a><ul><li><a href=#some-abbreviations>Some abbreviations</a><ul><li><a href=#usage>Usage</a></li><li><a href=#type>Type</a></li><li><a href=#format>Format</a></li><li><a href=#fingerprint>Fingerprint</a></li><li><a href=#key-id>Key ID</a></li><li><a href=#uid>UID</a></li><li><a href=#validity>Validity</a></li><li><a href=#trust-network>Trust network</a></li></ul></li></ul></li><li><a href=#how-to-use-it>How to use it?</a><ul><li><a href=#installation>Installation</a></li><li><a href=#generate-key>Generate Key</a></li><li><a href=#generate-subkey>Generate subkey</a></li><li><a href=#genrate-a-revocation-certificate>Genrate a revocation certificate</a></li></ul></li><li><a href=#list-the-keys>list the keys</a><ul><li><a href=#the-common-usage>The common usage</a></li></ul></li><li><a href=#export-the-key>Export the key</a><ul><li><a href=#most-usage>Most usage</a></li></ul></li><li><a href=#delete-the-key>Delete the key</a></li><li><a href=#import-the-key>Import the key</a></li><li><a href=#sign-and-verify>Sign and verify</a></li><li><a href=#encrypt-and-decrypt>Encrypt and decrypt</a></li><li><a href=#revoke>Revoke</a></li><li><a href=#config-your-git>Config your git</a></li><li><a href=#reference>Reference</a></li></ul></nav><style>.book-toc .book-toc-content a{color:var(--body-font-color)}</style></aside></header><article class=markdown><h1>GPG 101</h1><h5>December 17, 2024
·
7 min read
<span id=busuanzi_container_page_pv>· Page View: <span id=busuanzi_value_page_pv></span></span></h5><div><a href=/categories/tutorial/ style=color:#000>Tutorial</a></div><div><a href=/tags/gpg/ style=color:#000>GPG</a> <span style=color:#000>|</span>
<a href=/tags/security/ style=color:#000>Security</a> <span style=color:#000>|</span>
<a href=/tags/cryptography/ style=color:#000>Cryptography</a></div><p><img src=https://cdn.jsdelivr.net/gh/timerring/scratchpad2023/2024/2024-12-20-23-13-58.png></p><p class=title-image><i>DALL 3 prompt: The concept of GPG</i></p><blockquote class="book-hint info">If you have any questions, feel free to comment below.</blockquote><hr><blockquote><p>GnuPG is a complete and free implementation of the OpenPGP standard as defined by RFC4880(also known as PGP). GnuPG allows you to encrypt and sign your data and communications; it features a versatile key management system, along with access modules for all kinds of public key directories. GnuPG, also known as GPG, is a command line tool with features for easy integration with other applications.</p></blockquote><p>This article I will introduce the basic usage of GPG.</p><h2 id=what-is-gpg>What is GPG?
<a class=anchor href=#what-is-gpg>#</a></h2><p>When it comes to GPG, you should know the PGP first. The PGP is a <strong>protocol</strong> that provides encryption and digital signature services(Pretty Good Privacy). The GPG is the implementation of the PGP protocol. PGP can support many kinds of encryption algorithms, such as AES, RSA, ECC, etc.</p><p>And you can add it to your Github to make every commit to your repository is signed.</p><blockquote><p>Do not upload any message to the <code>public key servers</code>, it&rsquo;s not secure! Do not do any operation related to <code>public key servers</code>! In this article, I will not mention any operation related to <code>public key servers</code>! The <code>public key servers</code> is a centralized service, and will not delete any messages even you have revoked the public key.</p></blockquote><h3 id=some-abbreviations>Some abbreviations
<a class=anchor href=#some-abbreviations>#</a></h3><h4 id=usage>Usage
<a class=anchor href=#usage>#</a></h4><p>A => Authentication (eg. ssh)
C => Certify (Only the primary key have this capability)
E => Encrypt
S => Sign (eg. sign the commit)
? => Unknown capability</p><h4 id=type>Type
<a class=anchor href=#type>#</a></h4><p>sec => Secret Primary Key
ssb => Secret Subkey
pub => Public Primary Key
sub => Public Subkey</p><h4 id=format>Format
<a class=anchor href=#format>#</a></h4><ul><li>armored: <code>asc</code></li><li>binary: <code>pgp</code></li></ul><h4 id=fingerprint>Fingerprint
<a class=anchor href=#fingerprint>#</a></h4><p>Each key or subkey has a line of 10 groups of 4 characters. This is the SHA-1 hash of the entire key, which is 160 bits, 20 bytes, and is usually represented as 40 hexadecimal numbers. This fingerprint can be used to uniquely identify a key pair.</p><h4 id=key-id>Key ID
<a class=anchor href=#key-id>#</a></h4><p>Format:</p><ul><li>Long: the last 16 characters of the fingerprint.</li><li>Short: the last 8 characters of the fingerprint.</li></ul><h4 id=uid>UID
<a class=anchor href=#uid>#</a></h4><p>UID is the user id which contains the username, comment and email. <code>Name (Comment) &lt;Email></code></p><ol><li>One secret key can have multiple UIDs.</li><li>UID is used for the whole keys not just for specific subkey.</li><li>The uid can add easily, but the existing uid cannot be adjusted, only can be revoked.</li></ol><h4 id=validity>Validity
<a class=anchor href=#validity>#</a></h4><p>When import a key, it will default to <code>[unknown]</code>. You can check the fingerprint and the owner&rsquo;s claim to verify the key.</p><h4 id=trust-network>Trust network
<a class=anchor href=#trust-network>#</a></h4><p>Trust levels:</p><ul><li><code>ultimate</code>: Normally you should only ultimately trust your own keys. The root of the trust chain.</li><li><code>full</code>: Full trust the key, also contains the keys signed by this key.</li><li><code>marginal</code>: Trust the key, but not fully trust. If three people trust the key, then I trust it.</li><li><code>never</code>: Never trust the key along with the keys signed by this key.</li></ul><h2 id=how-to-use-it>How to use it?
<a class=anchor href=#how-to-use-it>#</a></h2><h3 id=installation>Installation
<a class=anchor href=#installation>#</a></h3><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>brew install gpg
</span></span></code></pre></div><h3 id=generate-key>Generate Key
<a class=anchor href=#generate-key>#</a></h3><p>You have to do the following steps quickly. If the process is timeout, you will need to re-do the steps.</p><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>gpg --full-generate-key
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># 1. Then select the key type, it&#39;s fine by default.</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># 2. Then select the key expiration, I choose `3y`, because you can renew the key later, and that&#39;s make sure you cn still control the key. Expired keys are only invalid for new encryption and signing. But you can still decrypt and verify the existing information, just will be marked as expired.</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># 3. Then enter you name(uid), I don&#39;t recommend you to use your real name, you can instead of your username.</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># 4. Then enter your email, make sure to use the verified email in Github, it&#39;s highly recommended to use the `no-reply` email provided by Github to avoid spam.</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># 5. Then enter the passphrase, it&#39;s used to encrypt the key.</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># 6. After a rondom move, your key is generated.</span>
</span></span></code></pre></div><h3 id=generate-subkey>Generate subkey
<a class=anchor href=#generate-subkey>#</a></h3><p>It is recommended to generate a subkey for the key. And just use the primary key to sign the new subkeys.
Each subkey has its own application scenario.</p><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#408080;font-style:italic># Enter the primary key interactive mode</span>
</span></span><span style=display:flex><span>gpg --edit-key yourNameInprimaryKey<span style=color:#666>(</span>uid or keyid<span style=color:#666>)</span>
</span></span><span style=display:flex><span>gpg &gt; addkey
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># Then the process is the same as the previous steps. This time I choose the RSA(sign only).</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># Btw, before generate the subkey, it will ask you to enter the passphrase of the primary key.</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># After the subkey is generated, don&#39;t forget to save the key.</span>
</span></span><span style=display:flex><span>gpg &gt; save
</span></span></code></pre></div><h3 id=genrate-a-revocation-certificate>Genrate a revocation certificate
<a class=anchor href=#genrate-a-revocation-certificate>#</a></h3><p>Imagine you forget the passphrase of the key, or you lose the control, you can use the revocation certificate to revoke the public key. If not, you will need to notify your friends that you don&rsquo;t use the key anymore. That will be a big problem. Thus it is necessary to generate a revocation certificate.</p><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>gpg --gen-revoke -ao revoke.pgp uid<span style=color:#666>(</span>or keyid<span style=color:#666>)</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># Make choices based on your situation</span>
</span></span></code></pre></div><p>Then you will get a <code>revoke.pgp</code> file, you can use it to revoke the key.</p><h2 id=list-the-keys>list the keys
<a class=anchor href=#list-the-keys>#</a></h2><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>gpg --list-keys <span style=color:#408080;font-style:italic># list the public keys, you can also use `gpg -k`</span>
</span></span><span style=display:flex><span>gpg --list-secret-keys <span style=color:#408080;font-style:italic># list the secret keys, you can also use `gpg -K`</span>
</span></span></code></pre></div><h3 id=the-common-usage>The common usage
<a class=anchor href=#the-common-usage>#</a></h3><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#408080;font-style:italic># The most common usage! -k or -K</span>
</span></span><span style=display:flex><span>gpg -K --with-fingerprint --with-subkey-fingerprint --keyid-format long
</span></span></code></pre></div><p>Besides, there are some parameters that you may need to use:</p><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>--with-fingerprint <span style=color:#408080;font-style:italic># print the fingerprint of the key</span>
</span></span><span style=display:flex><span>--with-subkey-fingerprint <span style=color:#408080;font-style:italic># print the fingerprint of the subkey</span>
</span></span><span style=display:flex><span>--with-sig-list <span style=color:#408080;font-style:italic># print the signature of keys</span>
</span></span></code></pre></div><h2 id=export-the-key>Export the key
<a class=anchor href=#export-the-key>#</a></h2><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>gpg -ao public-key.txt --export uid<span style=color:#666>(</span>or keyid<span style=color:#666>)</span> <span style=color:#408080;font-style:italic># export the public key</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># It is better to add your secure path before the secret-key, it will export to the machine directly.</span>
</span></span><span style=display:flex><span>gpg -ao secret-key --export-secret-key primarykeyid! <span style=color:#408080;font-style:italic># export the primary secret key, remember to add the `!` to export the single key, or you will export the whole secret keys.</span>
</span></span><span style=display:flex><span>gpg -ao sign-subkey --export-secret-subkeys subkeyid! <span style=color:#408080;font-style:italic># export the sign sub secret key.[S]</span>
</span></span><span style=display:flex><span>gpg -ao encrypt-subkey --export-secret-subkeys encryptkeyid! <span style=color:#408080;font-style:italic># export the encrypt sub secret key.[E]</span>
</span></span></code></pre></div><h3 id=most-usage>Most usage
<a class=anchor href=#most-usage>#</a></h3><p>Besides, GPG private key exported as an ASCII armored version or its base64 encoding (often).</p><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>gpg --export-secret-key --armor keyid &gt; secret-key.asc
</span></span></code></pre></div><h2 id=delete-the-key>Delete the key
<a class=anchor href=#delete-the-key>#</a></h2><p>After Export the keys, you can delete then from the machine.</p><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>gpg --delete-secret-keys uid<span style=color:#666>(</span>or keyid<span style=color:#666>)</span> <span style=color:#408080;font-style:italic># delete the secret key</span>
</span></span><span style=display:flex><span>gpg --delete-keys uid<span style=color:#666>(</span>or keyid<span style=color:#666>)</span> <span style=color:#408080;font-style:italic># delete the public key</span>
</span></span></code></pre></div><blockquote><p>As we know, the keys is stored in the machine in plaintext, it will not delete the keys completely, you can use the <code>wipe</code> or other tools to assist. But there is still the risk of restoring the keys. If you really want to generate and delete the keys in the most secure way, you can try <a href=https://tails.net/ target=_blank>Tails(boum.org)<span style=white-space:nowrap><svg width=".7em" height=".7em" viewBox="0 0 21 21" xmlns="http://www.w3.org/2000/svg"><path d="m13 3 3.293 3.293-7 7 1.414 1.414 7-7L21 11V3z" fill="currentcolor"/><path d="M19 19H5V5h7l-2-2H5c-1.103.0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103.0 2-.897 2-2v-5l-2-2v7z" fill="currentcolor"/></span></a>.</p></blockquote><h2 id=import-the-key>Import the key
<a class=anchor href=#import-the-key>#</a></h2><blockquote><p>Strongly discourage any operation related to <code>public key servers</code>!</p></blockquote><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>gpg --import yourkeysfile<span style=color:#666>(</span>your secret key or others public key<span style=color:#666>)</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># output</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># the `#` means the primary key is not imported, so it&#39;s safe.</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># sec#   rsa3072/keyid 2021-01-11 [SC] </span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># ...</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># the `#` means the subkey is imported.</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># ssb #    rsa3072/keyid 2021-01-11 [E]</span>
</span></span></code></pre></div><h2 id=sign-and-verify>Sign and verify
<a class=anchor href=#sign-and-verify>#</a></h2><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#408080;font-style:italic># Sign</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># 1. generate the binary signature file</span>
</span></span><span style=display:flex><span>gpg --sign input.txt
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># 2. generate the ASCII signature file</span>
</span></span><span style=display:flex><span>gpg --clearsign input.txt
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># 3. generate the signature file and original file separately.</span>
</span></span><span style=display:flex><span>gpg --armor --detach-sign input.txt
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># verify</span>
</span></span><span style=display:flex><span>gpg --verify input.txt.asc input.txt
</span></span></code></pre></div><h2 id=encrypt-and-decrypt>Encrypt and decrypt
<a class=anchor href=#encrypt-and-decrypt>#</a></h2><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#408080;font-style:italic># encrypt</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># uid(or keyid) is the uid or keyid of the recipient which means you have to import the public key of the recipient in advance.</span>
</span></span><span style=display:flex><span>gpg --encrypt --recipient uid<span style=color:#666>(</span>or keyid<span style=color:#666>)</span> input.txt --output output.txt
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># a simple version</span>
</span></span><span style=display:flex><span>gpg -se -o encrypt.txt -r uid<span style=color:#666>(</span>or keyid<span style=color:#666>)</span> input.txt
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># decrypt</span>
</span></span><span style=display:flex><span>gpg --decrypt encrypt.txt --output decrypt.txt
</span></span></code></pre></div><h2 id=revoke>Revoke
<a class=anchor href=#revoke>#</a></h2><blockquote><p>Even you have revoke the key, if there is still someone sent you message by the outdated public key, you can decrypt the message as well as the hacker can. This operation import the revocation certificate which will make the whole keys invalid. The revoked key is only invalid for new encryption and signing. But you can still decrypt and verify the existing information, but it will be marked as revoked.</p></blockquote><blockquote><p>Imagine the scenario, Alice&rsquo;s secret key is leaked, she will send a key revocation certificate, but the distribution is not centralized, so she cannot make sure everyone has received the message. <strong>Besides, the key revocation certificate is need to be signed by the secret key of the Alice</strong>, so if the secret key is lost, she will not be able to revoke the key.</p></blockquote><p>So once you have revoked the key, you should push the revoked public key to where you publish the key always, and notify your friends.</p><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#408080;font-style:italic># revoke the primary key</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># import the public key first</span>
</span></span><span style=display:flex><span>gpg --import gpg-linus.asc
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># then import the revoke certificate which will make the public key invalid directly.</span>
</span></span><span style=display:flex><span>gpg --import revoke
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># gpg -k to check the key is revoked. eg.[revoked: 2024-01-01]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># revoke the subkey</span>
</span></span><span style=display:flex><span>gpg --edit-key uid<span style=color:#666>(</span>or keyid<span style=color:#666>)</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># then select the subkey you want to revoke</span>
</span></span><span style=display:flex><span>gpg &gt; list
</span></span><span style=display:flex><span>gpg &gt; key <span style=color:#666>1</span> <span style=color:#408080;font-style:italic># 1 is the index of the subkey</span>
</span></span><span style=display:flex><span>gpg &gt; revoke
</span></span><span style=display:flex><span>gpg &gt; save
</span></span></code></pre></div><h2 id=config-your-git>Config your git
<a class=anchor href=#config-your-git>#</a></h2><p>Refer to <a href=https://docs.github.com/en/authentication/managing-commit-signature-verification/telling-git-about-your-signing-key target=_blank>Github docs<span style=white-space:nowrap><svg width=".7em" height=".7em" viewBox="0 0 21 21" xmlns="http://www.w3.org/2000/svg"><path d="m13 3 3.293 3.293-7 7 1.414 1.414 7-7L21 11V3z" fill="currentcolor"/><path d="M19 19H5V5h7l-2-2H5c-1.103.0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103.0 2-.897 2-2v-5l-2-2v7z" fill="currentcolor"/></span></a> and <a href=https://docs.github.com/en/authentication/managing-commit-signature-verification/adding-a-gpg-key-to-your-github-account target=_blank>Github docs<span style=white-space:nowrap><svg width=".7em" height=".7em" viewBox="0 0 21 21" xmlns="http://www.w3.org/2000/svg"><path d="m13 3 3.293 3.293-7 7 1.414 1.414 7-7L21 11V3z" fill="currentcolor"/><path d="M19 19H5V5h7l-2-2H5c-1.103.0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103.0 2-.897 2-2v-5l-2-2v7z" fill="currentcolor"/></span></a></p><h2 id=reference>Reference
<a class=anchor href=#reference>#</a></h2><ul><li><a href=https://docs.github.com/zh/authentication/managing-commit-signature-verification/generating-a-new-gpg-key target=_blank>Github docs<span style=white-space:nowrap><svg width=".7em" height=".7em" viewBox="0 0 21 21" xmlns="http://www.w3.org/2000/svg"><path d="m13 3 3.293 3.293-7 7 1.414 1.414 7-7L21 11V3z" fill="currentcolor"/><path d="M19 19H5V5h7l-2-2H5c-1.103.0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103.0 2-.897 2-2v-5l-2-2v7z" fill="currentcolor"/></span></a></li><li><a href=https://gnupg.org/documentation/index.html target=_blank>GnuPG docs<span style=white-space:nowrap><svg width=".7em" height=".7em" viewBox="0 0 21 21" xmlns="http://www.w3.org/2000/svg"><path d="m13 3 3.293 3.293-7 7 1.414 1.414 7-7L21 11V3z" fill="currentcolor"/><path d="M19 19H5V5h7l-2-2H5c-1.103.0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103.0 2-.897 2-2v-5l-2-2v7z" fill="currentcolor"/></span></a></li><li><a href=https://ulyc.github.io/2021/01/26/2021%E5%B9%B4-%E7%94%A8%E6%9B%B4%E7%8E%B0%E4%BB%A3%E7%9A%84%E6%96%B9%E6%B3%95%E4%BD%BF%E7%94%A8PGP-%E4%B8%8B/ target=_blank>ulyc blog<span style=white-space:nowrap><svg width=".7em" height=".7em" viewBox="0 0 21 21" xmlns="http://www.w3.org/2000/svg"><path d="m13 3 3.293 3.293-7 7 1.414 1.414 7-7L21 11V3z" fill="currentcolor"/><path d="M19 19H5V5h7l-2-2H5c-1.103.0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103.0 2-.897 2-2v-5l-2-2v7z" fill="currentcolor"/></span></a></li><li><a href=https://www.ruanyifeng.com/blog/2013/07/gpg.html target=_blank>Ruanyifeng blog<span style=white-space:nowrap><svg width=".7em" height=".7em" viewBox="0 0 21 21" xmlns="http://www.w3.org/2000/svg"><path d="m13 3 3.293 3.293-7 7 1.414 1.414 7-7L21 11V3z" fill="currentcolor"/><path d="M19 19H5V5h7l-2-2H5c-1.103.0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103.0 2-.897 2-2v-5l-2-2v7z" fill="currentcolor"/></span></a></li><li><a href=https://gaoweix.com/gpg-guide/ target=_blank>GaoWeiX blog<span style=white-space:nowrap><svg width=".7em" height=".7em" viewBox="0 0 21 21" xmlns="http://www.w3.org/2000/svg"><path d="m13 3 3.293 3.293-7 7 1.414 1.414 7-7L21 11V3z" fill="currentcolor"/><path d="M19 19H5V5h7l-2-2H5c-1.103.0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103.0 2-.897 2-2v-5l-2-2v7z" fill="currentcolor"/></span></a></li></ul><hr><div class=post-nav><a href="https://blog.timerring.com/posts/housewarming-2024/?utm_source=nav">&lt;&lt; prev | Housewarming...</a>
<a onclick=goToRandomPost() style=cursor:pointer>Continue strolling</a>
<a href="https://blog.timerring.com/posts/deploy-github-pages-with-gpg-signing/?utm_source=nav">Deploy Github... ｜ next >></a></div><hr>If you find this blog useful and want to support my blog, need my skill for something, or have a coffee chat with me, feel free to:<div class=support><a href="https://www.patreon.com/bePatron?u=46962965" class=book-btn target=_blank>Subscribe Patreon to participate in blog topics and custom services</a>
<a href=https://ko-fi.com/S6S130C16 class=book-btn target=_blank>Buy me a coffee</a></div><div style=margin-bottom:8px></div><script>function goToRandomPost(){const e=["/posts/video-technology-101/?utm_source=random","/posts/the-main-kind-of-message-queue/?utm_source=random","/posts/the-method-to-manage-traffic/?utm_source=random","/posts/the-different-kind-of-api-design/?utm_source=random","/posts/the-encode-and-decode-in-python/?utm_source=random","/posts/about-the-systemd/?utm_source=random","/posts/docker-cheatsheet/?utm_source=random","/posts/docker-101/?utm_source=random","/posts/the-instance-class-static-magic-method-in-python/?utm_source=random","/posts/the-overview-of-security/?utm_source=random","/posts/how-to-publish-your-code-as-a-pip-module/?utm_source=random","/posts/some-good-things-to-share-about-the-packages/?utm_source=random","/posts/introduction-to-the-http-and-https-protocol/?utm_source=random","/posts/mail-service-and-protocol/?utm_source=random","/posts/thinking-about-advertisement-from-an-open-source-perspective/?utm_source=random","/posts/understanding-clash-through-configuration/?utm_source=random","/posts/a-brief-introduction-to-dns/?utm_source=random","/posts/real-computer-network/?utm_source=random","/posts/python-generator-iterator-and-decorator/?utm_source=random","/posts/python-underlying-mechanism/?utm_source=random","/posts/python-files-exceptions-and-modules/?utm_source=random","/posts/python-object-oriented-programming/?utm_source=random","/posts/python-cheatsheet/?utm_source=random","/posts/python-function-parameter/?utm_source=random","/posts/python-control-structure/?utm_source=random","/posts/python-composite-data-type/?utm_source=random","/posts/python-basic-data-type/?utm_source=random","/posts/python-basic-syntax-elements/?utm_source=random","/posts/deploy-github-pages-with-gpg-signing/?utm_source=random","/posts/gpg-101/?utm_source=random","/posts/housewarming-2024/?utm_source=random"],t=Math.floor(Math.random()*e.length);window.location.href=e[t]}</script></article><div class=book-comments><div class="book-tabs-content markdown-inner"><div id=tcomment></div><script src=https://giscus.app/client.js data-repo=timerring/blog data-repo-id=R_kgDONeZYZg data-category=Announcements data-category-id=DIC_kwDONeZYZs4ClRWs data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=en crossorigin=anonymous async></script></div></div><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script><div class=busuanzi-footer><p style=text-align:center>&copy; 2022 - present <a href=https://github.com/timerring>timerring</a> | PV: <span id=busuanzi_value_site_pv></span> | UV: <span id=busuanzi_value_site_uv></span></p></div></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#what-is-gpg>What is GPG?</a><ul><li><a href=#some-abbreviations>Some abbreviations</a><ul><li><a href=#usage>Usage</a></li><li><a href=#type>Type</a></li><li><a href=#format>Format</a></li><li><a href=#fingerprint>Fingerprint</a></li><li><a href=#key-id>Key ID</a></li><li><a href=#uid>UID</a></li><li><a href=#validity>Validity</a></li><li><a href=#trust-network>Trust network</a></li></ul></li></ul></li><li><a href=#how-to-use-it>How to use it?</a><ul><li><a href=#installation>Installation</a></li><li><a href=#generate-key>Generate Key</a></li><li><a href=#generate-subkey>Generate subkey</a></li><li><a href=#genrate-a-revocation-certificate>Genrate a revocation certificate</a></li></ul></li><li><a href=#list-the-keys>list the keys</a><ul><li><a href=#the-common-usage>The common usage</a></li></ul></li><li><a href=#export-the-key>Export the key</a><ul><li><a href=#most-usage>Most usage</a></li></ul></li><li><a href=#delete-the-key>Delete the key</a></li><li><a href=#import-the-key>Import the key</a></li><li><a href=#sign-and-verify>Sign and verify</a></li><li><a href=#encrypt-and-decrypt>Encrypt and decrypt</a></li><li><a href=#revoke>Revoke</a></li><li><a href=#config-your-git>Config your git</a></li><li><a href=#reference>Reference</a></li></ul></nav><style>.book-toc .book-toc-content a{color:var(--body-font-color)}</style></div></aside></main></body></html>