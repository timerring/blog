<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="This article will review the basic knowledge of Python, including files, exceptions, and modules."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="Python Files Exceptions and Modules"><meta property="og:description" content="This article will review the basic knowledge of Python, including files, exceptions, and modules."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.timerring.com/posts/python-files-exceptions-and-modules/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-12-23T19:02:35+08:00"><meta property="article:modified_time" content="2024-12-23T19:02:35+08:00"><title>Python Files Exceptions and Modules | timerring</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.e5c400e9a39f7eafc90351230108cdc038497f3b6478689fe605ab3dd006274d.css integrity="sha256-5cQA6aOffq/JA1EjAQjNwDhJfztkeGif5gWrPdAGJ00=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script>
<script defer src=/en.search.min.4b41a5b2f87aee675c0240a54640121cdc5e65708dfba12b9cf30673443c4755.js integrity="sha256-S0Glsvh67mdcAkClRkASHNxeZXCN+6ErnPMGc0Q8R1U=" crossorigin=anonymous></script>
<script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><meta name=referrer content="no-referrer-when-downgrade"></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><img src=/favicon.png alt=Logo><span>timerring</span></a></h2><hr><p>Rhythmic trend.</p><div class=book-search><div class=gcse-search></div></div><script async src="https://cse.google.com/cse.js?cx=40782701766144f96"></script><ul><li><a href=/>Dashboard</a></li><li><a href=/posts/>Blogs</a></li><li><a href=/categories/weekly/>Newsletter</a></li><li><a href=/index.xml>RSS</a></li><li><a href=/friends/>Friends</a></li><li><a href=/about/>About</a></li></ul><script>function goToRandomPost(){const e=["/posts/is-there-an-rss-renaissance-in-the-ai-era/?utm_source=random","/posts/a-shopping-experience-in-pangdonglai-supermarket/?utm_source=random","/posts/langchain-and-rag-best-practices/?utm_source=random","/posts/random-variables/?utm_source=random","/posts/repeated-trials/?utm_source=random","/posts/probability-and-its-axioms/?utm_source=random","/posts/further-understanding-of-proc/?utm_source=random","/posts/the-iftop/?utm_source=random","/posts/reflections-on-trending-topics/?utm_source=random","/posts/cpu-can-only-see-the-threads/?utm_source=random","/posts/go-common-test/?utm_source=random","/posts/go-concurrency-and-parallelism/?utm_source=random","/posts/go-cheatsheet/?utm_source=random","/posts/video-technology-101/?utm_source=random","/posts/the-main-kind-of-message-queue/?utm_source=random","/posts/the-method-to-manage-traffic/?utm_source=random","/posts/the-different-kind-of-api-design/?utm_source=random","/posts/the-encode-and-decode-in-python/?utm_source=random","/posts/about-the-systemd/?utm_source=random","/posts/the-tips-about-dockerfile/?utm_source=random","/posts/docker-cheatsheet/?utm_source=random","/posts/docker-101/?utm_source=random","/posts/the-instance-class-static-magic-method-in-python/?utm_source=random","/posts/the-review-and-plan-for-bilive/?utm_source=random","/posts/the-overview-of-security/?utm_source=random","/posts/how-to-publish-your-code-as-a-pip-module/?utm_source=random","/posts/some-good-things-to-share-about-the-packages/?utm_source=random","/posts/introduction-to-the-http-and-https-protocol/?utm_source=random","/posts/mail-service-and-protocol/?utm_source=random","/posts/understanding-clash-through-configuration/?utm_source=random","/posts/thinking-about-advertisement-from-an-open-source-perspective/?utm_source=random","/posts/a-brief-introduction-to-dns/?utm_source=random","/posts/real-computer-network/?utm_source=random","/posts/python-generator-iterator-and-decorator/?utm_source=random","/posts/python-underlying-mechanism/?utm_source=random","/posts/python-files-exceptions-and-modules/?utm_source=random","/posts/python-object-oriented-programming/?utm_source=random","/posts/python-cheatsheet/?utm_source=random","/posts/python-function-parameter/?utm_source=random","/posts/python-control-structure/?utm_source=random","/posts/python-composite-data-type/?utm_source=random","/posts/python-basic-data-type/?utm_source=random","/posts/python-basic-syntax-elements/?utm_source=random","/posts/deploy-github-pages-with-gpg-signing/?utm_source=random","/posts/gpg-101/?utm_source=random","/posts/housewarming-2024/?utm_source=random"],t=Math.floor(Math.random()*e.length);window.location.href=e[t]}</script><a class=random onclick=goToRandomPost()>Stroll</a></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>timerring</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#file-read-and-write>File Read and Write</a><ul><li><a href=#file-open>File Open</a><ul><li><a href=#open-mode>Open Mode</a></li><li><a href=#character-encoding>Character Encoding</a></li></ul></li><li><a href=#file-read>File Read</a></li><li><a href=#file-write>File Write</a></li><li><a href=#read-and-write>Read and Write</a></li><li><a href=#data-storage-and-reading>Data Storage and Reading</a></li></ul></li><li><a href=#exception-handling>Exception Handling</a><ul><li><a href=#common-exception-generation>Common Exception Generation</a></li><li><a href=#exception-handling-1>Exception Handling</a></li></ul></li><li><a href=#module-introduction>Module Introduction</a><ul><li><a href=#broad-module-classification>Broad module classification</a></li><li><a href=#python-built-in>Python built-in</a></li><li><a href=#third-party-library>Third-party library</a></li><li><a href=#custom-file>Custom file</a></li><li><a href=#module-import>Module import</a></li><li><a href=#module-search-path>Module search path</a></li></ul></li></ul></nav><style>.book-toc .book-toc-content a{color:var(--body-font-color)}</style></aside></header><article class=markdown><h1>Python Files Exceptions and Modules</h1><h5>December 23, 2024
·
12 min read
<span id=busuanzi_container_page_pv>· Page View: <span id=busuanzi_value_page_pv></span></span></h5><div><a href=/categories/tutorial/ style=color:#000>Tutorial</a></div><div><a href=/tags/python/ style=color:#000>Python</a></div><blockquote class="book-hint info">If you have any questions, feel free to comment below.</blockquote><hr><p>This article will review the basic knowledge of Python, including files, exceptions, and modules.</p><h1 id=ch7-files-exceptions-and-modules>CH7 Files, Exceptions, and Modules
<a class=anchor href=#ch7-files-exceptions-and-modules>#</a></h1><h2 id=file-read-and-write>File Read and Write
<a class=anchor href=#file-read-and-write>#</a></h2><h3 id=file-open>File Open
<a class=anchor href=#file-open>#</a></h3><ul><li>The general format for opening a file, recommended to use with, because if not using with, then you need to consider the close operation</li></ul><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#408080;font-style:italic># The advantage of using with block: automatically close the file after execution</span>
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>with</span> <span style=color:green>open</span>(<span style=color:#ba2121>&#34;file path&#34;</span>, <span style=color:#ba2121>&#34;open mode&#34;</span>, encoding <span style=color:#666>=</span> <span style=color:#ba2121>&#34;character encoding of the file&#34;</span>) <span style=color:green;font-weight:700>as</span> f:
</span></span><span style=display:flex><span>    <span style=color:#ba2121>&#34;file read and write operation&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>with</span> <span style=color:green>open</span>(<span style=color:#ba2121>&#34;E:\ipython</span><span style=color:#b62;font-weight:700>\t</span><span style=color:#ba2121>est.txt&#34;</span>, <span style=color:#ba2121>&#34;r&#34;</span>, encoding <span style=color:#666>=</span> <span style=color:#ba2121>&#34;gbk&#34;</span>) <span style=color:green;font-weight:700>as</span> f:
</span></span><span style=display:flex><span>    text <span style=color:#666>=</span> f<span style=color:#666>.</span>read()
</span></span><span style=display:flex><span>    <span style=color:green>print</span>(text)
</span></span></code></pre></div><h4 id=open-mode>Open Mode
<a class=anchor href=#open-mode>#</a></h4><ul><li><p><code>r</code> <strong>Read mode</strong>，if the file does not exist, an error will be reported</p></li><li><p><code>w</code> <strong>Overwrite write mode</strong>，if the file does not exist, it will be created; if the file exists, it will completely overwrite the original file</p></li><li><p><code>x</code> <strong>Create write mode</strong>，if the file does not exist, it will be created; if the file exists, an error will be reported</p></li><li><p><code>a</code> <strong>Append write mode</strong>，if the file does not exist, it will be created; if the file exists, it will be added to the original file</p></li><li><p><code>b</code> <strong>Binary file mode</strong>，cannot be used alone, it needs to be used together with <code>rb</code>, <code>wb</code>, <code>ab</code>, <strong>this mode does not need to specify encoding</strong></p></li><li><p><code>t</code> <strong>Text file mode</strong>，default value, it needs to be used together with <code>rt</code>, <code>wt</code>, <code>at</code>, generally omitted, abbreviated as <code>r</code>, <code>w</code>, <code>a</code></p></li><li><p><code>+</code>，with <code>r</code>, <code>w</code>, <code>x</code>, <code>a</code>, it adds read and write functions to the original functions</p></li><li><p><strong>The default open mode is read mode</strong></p></li></ul><h4 id=character-encoding>Character Encoding
<a class=anchor href=#character-encoding>#</a></h4><ul><li><strong>Universal code utf-8</strong>:includes all characters needed by all countries</li><li><strong>Chinese encoding gbk</strong>:used to solve the problem of Chinese encoding, <strong>in windows, if omitted, it defaults to gbk (the encoding of the region)</strong>。</li><li>For clarity, <strong>except for processing binary files, it is recommended not to omit encoding</strong></li></ul><h3 id=file-read>File Read
<a class=anchor href=#file-read>#</a></h3><ol><li>Read the entire content——<code>f.read()</code></li></ol><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:green;font-weight:700>with</span> <span style=color:green>open</span>(<span style=color:#ba2121>&#34;never_gonna_give_you_up_utf.txt&#34;</span>, <span style=color:#ba2121>&#34;r&#34;</span>, encoding<span style=color:#666>=</span><span style=color:#ba2121>&#34;utf-8&#34;</span>) <span style=color:green;font-weight:700>as</span> f:
</span></span><span style=display:flex><span>    text <span style=color:#666>=</span> f<span style=color:#666>.</span>read()
</span></span><span style=display:flex><span>    <span style=color:green>print</span>(text)
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># with open(&#34;never_gonna_give_you_up_utf.txt&#34;, &#34;r&#34;) as f:</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># UnicodeDecodeError: &#39;gbk&#39; codec can&#39;t decode byte 0x80 in position 50: illegal multibyte sequence</span>
</span></span></code></pre></div><ol start=2><li>Read line by line——<code>f.readline()</code></li></ol><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:green;font-weight:700>with</span> <span style=color:green>open</span>(<span style=color:#ba2121>&#34;never_gonna_give_you_up_utf.txt&#34;</span>, <span style=color:#ba2121>&#34;r&#34;</span>, encoding<span style=color:#666>=</span><span style=color:#ba2121>&#34;utf-8&#34;</span>) <span style=color:green;font-weight:700>as</span> f:     
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>while</span> <span style=color:green;font-weight:700>True</span>:
</span></span><span style=display:flex><span>        text <span style=color:#666>=</span> f<span style=color:#666>.</span>readline() <span style=color:#408080;font-style:italic># Read each line</span>
</span></span><span style=display:flex><span>        <span style=color:green;font-weight:700>if</span> <span style=color:#a2f;font-weight:700>not</span> text:
</span></span><span style=display:flex><span>            <span style=color:#408080;font-style:italic># print(text is &#34;&#34;)</span>
</span></span><span style=display:flex><span>            <span style=color:green;font-weight:700>break</span>
</span></span><span style=display:flex><span>        <span style=color:green;font-weight:700>else</span>:
</span></span><span style=display:flex><span>            <span style=color:#408080;font-style:italic># print(text == &#34;\n&#34;) # The newline character is not considered empty</span>
</span></span><span style=display:flex><span>            <span style=color:green>print</span>(text, end<span style=color:#666>=</span><span style=color:#ba2121>&#34;&#34;</span>)  <span style=color:#408080;font-style:italic># Keep the original newline, so that the print() newline does not take effect, because print itself also has a newline effect</span>
</span></span></code></pre></div><ol start=3><li>Read all lines, forming a list with each line as an element <code>f.readlines()</code></li></ol><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:green;font-weight:700>with</span> <span style=color:green>open</span>(<span style=color:#ba2121>&#34;never_gonna_give_you_up_utf.txt&#34;</span>, <span style=color:#ba2121>&#34;r&#34;</span>, encoding<span style=color:#666>=</span><span style=color:#ba2121>&#34;utf-8&#34;</span>) <span style=color:green;font-weight:700>as</span> f:
</span></span><span style=display:flex><span>    text <span style=color:#666>=</span> f<span style=color:#666>.</span>readlines() <span style=color:#408080;font-style:italic># Note that each line has a newline character at the end</span>
</span></span><span style=display:flex><span>    <span style=color:green>print</span>(text)
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># [&#39;never gonna give you up\n&#39;, &#39;never gonna let you down\n&#39;, &#39;never gonna run around and desert you\n&#39;, &#39;never gonna make you cry\n&#39;, &#39;never gonna say goodbye\n&#39;, &#39;never gonna tell a lie and hurt you\n&#39;]   </span>
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>for</span> text <span style=color:#a2f;font-weight:700>in</span> f<span style=color:#666>.</span>readlines():                                                   
</span></span><span style=display:flex><span>        <span style=color:green>print</span>(text) <span style=color:#408080;font-style:italic># If you don&#39;t want to change lines, use print(text, end=&#34;&#34;)         </span>
</span></span></code></pre></div><ol start=4><li>Text file read summary</li></ol><p>When the file is large, <code>read()</code> and <code>readlines()</code> occupy too much memory, not recommended. <code>readline</code> is not convenient to use</p><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:green;font-weight:700>with</span> <span style=color:green>open</span>(<span style=color:#ba2121>&#34;never_gonna_give_you_up_gbk.txt&#34;</span>, <span style=color:#ba2121>&#34;r&#34;</span>, encoding<span style=color:#666>=</span><span style=color:#ba2121>&#34;gbk&#34;</span>) <span style=color:green;font-weight:700>as</span> f:     
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>for</span> text <span style=color:#a2f;font-weight:700>in</span> f:  <span style=color:#408080;font-style:italic># f itself is an iterable object, and each iteration reads one line of content </span>
</span></span><span style=display:flex><span>        <span style=color:green>print</span>(text)  
</span></span></code></pre></div><ol start=5><li>Binary file</li></ol><p>Image: binary file</p><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:green;font-weight:700>with</span> <span style=color:green>open</span>(<span style=color:#ba2121>&#34;test.jpg&#34;</span>, <span style=color:#ba2121>&#34;rb&#34;</span>) <span style=color:green;font-weight:700>as</span> f:     
</span></span><span style=display:flex><span>        <span style=color:green>print</span>(<span style=color:green>len</span>(f<span style=color:#666>.</span>readlines())) <span style=color:#408080;font-style:italic># 69</span>
</span></span></code></pre></div><h3 id=file-write>File Write
<a class=anchor href=#file-write>#</a></h3><ol><li>Write a string or byte stream (binary) to a file——<code>f.write()</code></li></ol><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:green;font-weight:700>with</span> <span style=color:green>open</span>(<span style=color:#ba2121>&#34;恋曲1980.txt&#34;</span>, <span style=color:#ba2121>&#34;w&#34;</span>, encoding<span style=color:#666>=</span><span style=color:#ba2121>&#34;utf-8&#34;</span>) <span style=color:green;font-weight:700>as</span> f:                      
</span></span><span style=display:flex><span>    f<span style=color:#666>.</span>write(<span style=color:#ba2121>&#34;你曾经对我说</span><span style=color:#b62;font-weight:700>\n</span><span style=color:#ba2121>&#34;</span>)  <span style=color:#408080;font-style:italic># If the file does not exist, it will immediately create one</span>
</span></span><span style=display:flex><span>    f<span style=color:#666>.</span>write(<span style=color:#ba2121>&#34;你永远爱着我</span><span style=color:#b62;font-weight:700>\n</span><span style=color:#ba2121>&#34;</span>)  <span style=color:#408080;font-style:italic># If you need to change lines, add a newline character \n at the end, and the file will be written on the second line</span>
</span></span></code></pre></div><ol start=2><li>Write a list of strings to a file——<code>f.writelines()</code></li></ol><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>ls <span style=color:#666>=</span> [<span style=color:#ba2121>&#34;春天刮着风</span><span style=color:#b62;font-weight:700>\n</span><span style=color:#ba2121>&#34;</span>, <span style=color:#ba2121>&#34;秋天下着雨</span><span style=color:#b62;font-weight:700>\n</span><span style=color:#ba2121>&#34;</span>, <span style=color:#ba2121>&#34;春风秋雨多少海誓山盟随风远去</span><span style=color:#b62;font-weight:700>\n</span><span style=color:#ba2121>&#34;</span>]
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>with</span> <span style=color:green>open</span>(<span style=color:#ba2121>&#34;恋曲1980.txt&#34;</span>, <span style=color:#ba2121>&#34;w&#34;</span>, encoding<span style=color:#666>=</span><span style=color:#ba2121>&#34;utf-8&#34;</span>) <span style=color:green;font-weight:700>as</span> f:
</span></span><span style=display:flex><span>    f<span style=color:#666>.</span>writelines(ls)
</span></span></code></pre></div><h3 id=read-and-write>Read and Write
<a class=anchor href=#read-and-write>#</a></h3><ol><li><code>r+</code></li></ol><ul><li>If the file name does not exist, an error will be reported</li><li>The pointer is at the beginning, and the pointer must be moved to the end to start writing, otherwise it will overwrite the previous content</li></ul><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:green;font-weight:700>with</span> <span style=color:green>open</span>(<span style=color:#ba2121>&#34;浪淘沙_北戴河.txt&#34;</span>, <span style=color:#ba2121>&#34;r+&#34;</span>, encoding<span style=color:#666>=</span><span style=color:#ba2121>&#34;gbk&#34;</span>) <span style=color:green;font-weight:700>as</span> f:
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic>#     for line in f:</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic>#         print(line)   # After reading all, the pointer reaches the end</span>
</span></span><span style=display:flex><span>    f<span style=color:#666>.</span>seek(<span style=color:#666>0</span>,<span style=color:#666>2</span>)         <span style=color:#408080;font-style:italic># Or you can move the pointer to the end f.seek(offset in bytes, position (0: start; 1: current position; 2: end))</span>
</span></span><span style=display:flex><span>    text <span style=color:#666>=</span> [<span style=color:#ba2121>&#34;萧瑟秋风今又是，</span><span style=color:#b62;font-weight:700>\n</span><span style=color:#ba2121>&#34;</span>, <span style=color:#ba2121>&#34;换了人间。</span><span style=color:#b62;font-weight:700>\n</span><span style=color:#ba2121>&#34;</span>]
</span></span><span style=display:flex><span>    f<span style=color:#666>.</span>writelines(text)
</span></span></code></pre></div><ol start=2><li><code>w+</code></li></ol><ul><li>If the file does not exist, it will be created, and if the file exists, it will be immediately cleared.</li></ul><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:green;font-weight:700>with</span> <span style=color:green>open</span>(<span style=color:#ba2121>&#34;浪淘沙_北戴河.txt&#34;</span>, <span style=color:#ba2121>&#34;w+&#34;</span>, encoding<span style=color:#666>=</span><span style=color:#ba2121>&#34;gbk&#34;</span>) <span style=color:green;font-weight:700>as</span> f:
</span></span><span style=display:flex><span>    text <span style=color:#666>=</span> [<span style=color:#ba2121>&#34;萧瑟秋风今又是，</span><span style=color:#b62;font-weight:700>\n</span><span style=color:#ba2121>&#34;</span>, <span style=color:#ba2121>&#34;换了人间。</span><span style=color:#b62;font-weight:700>\n</span><span style=color:#ba2121>&#34;</span>]  <span style=color:#408080;font-style:italic># Clear the original content</span>
</span></span><span style=display:flex><span>    f<span style=color:#666>.</span>writelines(text)                             <span style=color:#408080;font-style:italic># Write new content, pointer at the end</span>
</span></span><span style=display:flex><span>    f<span style=color:#666>.</span>seek(<span style=color:#666>0</span>,<span style=color:#666>0</span>)            <span style=color:#408080;font-style:italic># Move the pointer to the start</span>
</span></span><span style=display:flex><span>    <span style=color:green>print</span>(f<span style=color:#666>.</span>read())        <span style=color:#408080;font-style:italic># Read content</span>
</span></span></code></pre></div><p>​</p><ol start=3><li><code>a+</code>: If the file does not exist, it will be created, and if the file exists, the pointer is at the end, and new content will be added, without clearing the original content.</li></ol><h3 id=data-storage-and-reading>Data Storage and Reading
<a class=anchor href=#data-storage-and-reading>#</a></h3><p><strong>Common data formats can be loaded and stored in different languages</strong></p><ol><li><strong>csv format</strong></li></ol><p>A character sequence separated by <strong>commas</strong> that can be opened by excel</p><ul><li>Read</li></ul><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:green;font-weight:700>with</span> <span style=color:green>open</span>(<span style=color:#ba2121>&#34;score.csv&#34;</span>, <span style=color:#ba2121>&#34;r&#34;</span>, encoding<span style=color:#666>=</span><span style=color:#ba2121>&#34;gbk&#34;</span>) <span style=color:green;font-weight:700>as</span> f:
</span></span><span style=display:flex><span>    ls <span style=color:#666>=</span> [] 
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>for</span> line <span style=color:#a2f;font-weight:700>in</span> f:                              <span style=color:#408080;font-style:italic># Read line by line</span>
</span></span><span style=display:flex><span>        ls<span style=color:#666>.</span>append(line<span style=color:#666>.</span>strip(<span style=color:#ba2121>&#34;</span><span style=color:#b62;font-weight:700>\n</span><span style=color:#ba2121>&#34;</span>)<span style=color:#666>.</span>split(<span style=color:#ba2121>&#34;,&#34;</span>))  <span style=color:#408080;font-style:italic># Remove the newline character and split by &#34;,&#34;</span>
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>for</span> res <span style=color:#a2f;font-weight:700>in</span> ls:
</span></span><span style=display:flex><span>    <span style=color:green>print</span>(res)
</span></span></code></pre></div><ul><li>Write</li></ul><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>ls <span style=color:#666>=</span> [[<span style=color:#ba2121>&#39;id&#39;</span>, <span style=color:#ba2121>&#39;math&#39;</span>, <span style=color:#ba2121>&#39;chinese&#39;</span>], [<span style=color:#ba2121>&#39;1&#39;</span>, <span style=color:#ba2121>&#39;100&#39;</span>, <span style=color:#ba2121>&#39;98&#39;</span>], [<span style=color:#ba2121>&#39;2&#39;</span>, <span style=color:#ba2121>&#39;96&#39;</span>, <span style=color:#ba2121>&#39;99&#39;</span>], [<span style=color:#ba2121>&#39;3&#39;</span>, <span style=color:#ba2121>&#39;97&#39;</span>, <span style=color:#ba2121>&#39;95&#39;</span>]]
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>with</span> <span style=color:green>open</span>(<span style=color:#ba2121>&#34;score.csv&#34;</span>, <span style=color:#ba2121>&#34;w&#34;</span>, encoding<span style=color:#666>=</span><span style=color:#ba2121>&#34;gbk&#34;</span>) <span style=color:green;font-weight:700>as</span> f:   <span style=color:#408080;font-style:italic># encoding=&#34;utf-8&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>for</span> row <span style=color:#a2f;font-weight:700>in</span> ls:                                  <span style=color:#408080;font-style:italic># Write line by line</span>
</span></span><span style=display:flex><span>        f<span style=color:#666>.</span>write(<span style=color:#ba2121>&#34;,&#34;</span><span style=color:#666>.</span>join(row)<span style=color:#666>+</span><span style=color:#ba2121>&#34;</span><span style=color:#b62;font-weight:700>\n</span><span style=color:#ba2121>&#34;</span>)                 <span style=color:#408080;font-style:italic># Combine with commas, add a newline character at the end</span>
</span></span></code></pre></div><p><strong>The above operations can also be completed using the csv module</strong></p><p>2、<strong>json format</strong></p><p>Often used to store dictionaries</p><ul><li>Write - <code>dump()</code></li></ul><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:green;font-weight:700>import</span> <span style=color:#00f;font-weight:700>json</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>scores <span style=color:#666>=</span> {<span style=color:#ba2121>&#34;Petter&#34;</span>:{<span style=color:#ba2121>&#34;math&#34;</span>:<span style=color:#666>96</span> , <span style=color:#ba2121>&#34;physics&#34;</span>: <span style=color:#666>98</span>},
</span></span><span style=display:flex><span>        <span style=color:#ba2121>&#34;Paul&#34;</span>:{<span style=color:#ba2121>&#34;math&#34;</span>:<span style=color:#666>92</span> , <span style=color:#ba2121>&#34;physics&#34;</span>: <span style=color:#666>99</span>},
</span></span><span style=display:flex><span>        <span style=color:#ba2121>&#34;Mary&#34;</span>:{<span style=color:#ba2121>&#34;math&#34;</span>:<span style=color:#666>98</span> , <span style=color:#ba2121>&#34;physics&#34;</span>: <span style=color:#666>97</span>}}
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>with</span> <span style=color:green>open</span>(<span style=color:#ba2121>&#34;score.json&#34;</span>, <span style=color:#ba2121>&#34;w&#34;</span>, encoding<span style=color:#666>=</span><span style=color:#ba2121>&#34;utf-8&#34;</span>) <span style=color:green;font-weight:700>as</span> f:             <span style=color:#408080;font-style:italic># Write the entire object </span>
</span></span><span style=display:flex><span>        <span style=color:#408080;font-style:italic># indent pretty print, ensure_ascii=False display Chinese</span>
</span></span><span style=display:flex><span>        json<span style=color:#666>.</span>dump(scores, f, indent<span style=color:#666>=</span><span style=color:#666>4</span>, ensure_ascii<span style=color:#666>=</span><span style=color:green;font-weight:700>False</span>)       
</span></span></code></pre></div><ul><li>Read - <code>load()</code></li></ul><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:green;font-weight:700>with</span> <span style=color:green>open</span>(<span style=color:#ba2121>&#34;score.json&#34;</span>, <span style=color:#ba2121>&#34;r&#34;</span>, encoding<span style=color:#666>=</span><span style=color:#ba2121>&#34;utf-8&#34;</span>) <span style=color:green;font-weight:700>as</span> f:                                         
</span></span><span style=display:flex><span>        scores <span style=color:#666>=</span> json<span style=color:#666>.</span>load(f)           <span style=color:#408080;font-style:italic># Load the entire object</span>
</span></span><span style=display:flex><span>        <span style=color:green;font-weight:700>for</span> k,v <span style=color:#a2f;font-weight:700>in</span> scores<span style=color:#666>.</span>items():
</span></span><span style=display:flex><span>            <span style=color:green>print</span>(k,v)
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic>#   Petter {&#39;math&#39;: 96, &#39;physics&#39;: 98}</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic>#   Paul {&#39;math&#39;: 92, &#39;physics&#39;: 99}</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic>#   Mary {&#39;math&#39;: 98, &#39;physics&#39;: 97}</span>
</span></span></code></pre></div><h2 id=exception-handling>Exception Handling
<a class=anchor href=#exception-handling>#</a></h2><p><strong>When an exception occurs, if no pre-set processing method is provided, the program will interrupt</strong></p><h3 id=common-exception-generation>Common Exception Generation
<a class=anchor href=#common-exception-generation>#</a></h3><ol><li>Division by zero - <code>ZeroDivisionError</code></li></ol><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#666>1</span><span style=color:#666>/</span><span style=color:#666>0</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># ZeroDivisionError: division by zero</span>
</span></span></code></pre></div><ol start=2><li>File not found - <code>FileNotFoundError</code></li></ol><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:green;font-weight:700>with</span> <span style=color:green>open</span>(<span style=color:#ba2121>&#34;nobody.csv&#34;</span>) <span style=color:green;font-weight:700>as</span> f:
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>pass</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># FileNotFoundError: [Errno 2] No such file or directory: &#39;nobody.csv&#39;</span>
</span></span></code></pre></div><ol start=3><li>Value error - <code>ValueError</code></li></ol><p>Passing a value that is not expected by the caller, even though the value is of the correct type</p><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>s <span style=color:#666>=</span> <span style=color:#ba2121>&#34;1.3&#34;</span>
</span></span><span style=display:flex><span>n <span style=color:#666>=</span> <span style=color:green>int</span>(s)
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># ValueError: invalid literal for int() with base 10: &#39;1.3&#39;</span>
</span></span></code></pre></div><ol start=4><li>Index error - <code>IndexError</code></li></ol><p>Index out of sequence boundary</p><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>ls <span style=color:#666>=</span> [<span style=color:#666>1</span>, <span style=color:#666>2</span>, <span style=color:#666>3</span>]
</span></span><span style=display:flex><span>ls[<span style=color:#666>5</span>]
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># IndexError: list index out of range</span>
</span></span></code></pre></div><ol start=5><li>Type error - <code>TypeError</code></li></ol><p>Passing an object type that does not match the requirement</p><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#666>1</span> <span style=color:#666>+</span> <span style=color:#ba2121>&#34;3&#34;</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># TypeError: unsupported operand type(s) for +: &#39;int&#39; and &#39;str&#39;</span>
</span></span></code></pre></div><ol start=6><li>Other common exception types</li></ol><p>NameError - Using an undefined variable<br>KeyError - Attempting to access a key that does not exist in a dictionary</p><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:green>print</span>(a)
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># NameError: name &#39;a&#39; is not defined</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>d <span style=color:#666>=</span> {}
</span></span><span style=display:flex><span>d[<span style=color:#ba2121>&#34;1&#34;</span>]
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># KeyError: &#39;1&#39;</span>
</span></span></code></pre></div><h3 id=exception-handling-1>Exception Handling
<a class=anchor href=#exception-handling-1>#</a></h3><p><strong>Improve the stability and reliability of the program</strong></p><ol><li><code>try except</code></li></ol><ul><li><p>If the try block code runs smoothly, the except block is not triggered</p></li><li><p>If an error occurs in the try block, the except block is triggered, and the code in the except block is executed</p></li><li><p>Single branch</p></li></ul><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>x <span style=color:#666>=</span> <span style=color:#666>10</span>
</span></span><span style=display:flex><span>y <span style=color:#666>=</span> <span style=color:#666>0</span>
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>try</span>:
</span></span><span style=display:flex><span>    z <span style=color:#666>=</span> x<span style=color:#666>/</span>y
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>except</span> <span style=color:#d2413a;font-weight:700>ZeroDivisionError</span>:  <span style=color:#408080;font-style:italic># Generally, it is predicted what error will occur</span>
</span></span><span style=display:flex><span>    <span style=color:green>print</span>(<span style=color:#ba2121>&#34;0 cannot be divided!&#34;</span>)    
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># 0 cannot be divided!</span>
</span></span></code></pre></div><ul><li>Multiple branches</li></ul><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>ls <span style=color:#666>=</span> []
</span></span><span style=display:flex><span>d <span style=color:#666>=</span> {<span style=color:#ba2121>&#34;name&#34;</span>: <span style=color:#ba2121>&#34;timerring&#34;</span>}
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>try</span>:
</span></span><span style=display:flex><span>    y <span style=color:#666>=</span> m
</span></span><span style=display:flex><span>    <span style=color:#408080;font-style:italic># ls[3]</span>
</span></span><span style=display:flex><span>    <span style=color:#408080;font-style:italic># d[&#34;age&#34;]</span>
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>except</span> <span style=color:#d2413a;font-weight:700>NameError</span>:
</span></span><span style=display:flex><span>    <span style=color:green>print</span>(<span style=color:#ba2121>&#34;Variable name does not exist&#34;</span>)
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>except</span> <span style=color:#d2413a;font-weight:700>IndexError</span>:
</span></span><span style=display:flex><span>    <span style=color:green>print</span>(<span style=color:#ba2121>&#34;Index out of bounds&#34;</span>)
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>except</span> <span style=color:#d2413a;font-weight:700>KeyError</span>:
</span></span><span style=display:flex><span>    <span style=color:green>print</span>(<span style=color:#ba2121>&#34;Key does not exist&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># Variable name does not exist</span>
</span></span></code></pre></div><ul><li>Universal exception <code>Exception</code> (the ancestor of all errors)</li></ul><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>ls <span style=color:#666>=</span> []
</span></span><span style=display:flex><span>d <span style=color:#666>=</span> {<span style=color:#ba2121>&#34;name&#34;</span>: <span style=color:#ba2121>&#34;timerring&#34;</span>}
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>try</span>:
</span></span><span style=display:flex><span>    <span style=color:#408080;font-style:italic># y = m</span>
</span></span><span style=display:flex><span>    ls[<span style=color:#666>3</span>]
</span></span><span style=display:flex><span>    <span style=color:#408080;font-style:italic># d[&#34;age&#34;]</span>
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>except</span> <span style=color:#d2413a;font-weight:700>Exception</span>:
</span></span><span style=display:flex><span>    <span style=color:green>print</span>(<span style=color:#ba2121>&#34;Error&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># Error</span>
</span></span></code></pre></div><ul><li>Capture the value of the exception as</li></ul><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>ls <span style=color:#666>=</span> []
</span></span><span style=display:flex><span>d <span style=color:#666>=</span> {<span style=color:#ba2121>&#34;name&#34;</span>: <span style=color:#ba2121>&#34;timerring&#34;</span>}
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># y = x</span>
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>try</span>:
</span></span><span style=display:flex><span>    y <span style=color:#666>=</span> m
</span></span><span style=display:flex><span>    <span style=color:#408080;font-style:italic># ls[3]</span>
</span></span><span style=display:flex><span>    <span style=color:#408080;font-style:italic># d[&#34;age&#34;]</span>
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>except</span> <span style=color:#d2413a;font-weight:700>Exception</span> <span style=color:green;font-weight:700>as</span> e:    <span style=color:#408080;font-style:italic># Although it cannot obtain the specific type of error, it can obtain the reason for the error</span>
</span></span><span style=display:flex><span>    <span style=color:green>print</span>(e)
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># name &#39;m&#39; is not defined</span>
</span></span></code></pre></div><ol start=2><li><code>try except else</code></li></ol><ul><li>If the try module is executed, the else module is also executed, and the else module can be seen as an additional reward for the successful try.</li></ul><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:green;font-weight:700>try</span>:
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>with</span> <span style=color:green>open</span>(<span style=color:#ba2121>&#34;files.txt&#34;</span>) <span style=color:green;font-weight:700>as</span> f:
</span></span><span style=display:flex><span>        text <span style=color:#666>=</span> f<span style=color:#666>.</span>read()
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>except</span> <span style=color:#d2413a;font-weight:700>FileNotFoundError</span>:
</span></span><span style=display:flex><span>    <span style=color:green>print</span>(<span style=color:#ba2121>&#34;File not found&#34;</span>)
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>else</span>:
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>for</span> s <span style=color:#a2f;font-weight:700>in</span> [<span style=color:#ba2121>&#34;</span><span style=color:#b62;font-weight:700>\n</span><span style=color:#ba2121>&#34;</span>, <span style=color:#ba2121>&#34;，&#34;</span>, <span style=color:#ba2121>&#34;。&#34;</span>, <span style=color:#ba2121>&#34;？&#34;</span>]:         <span style=color:#408080;font-style:italic># Remove newline and punctuation characters</span>
</span></span><span style=display:flex><span>        text <span style=color:#666>=</span> text<span style=color:#666>.</span>replace(s, <span style=color:#ba2121>&#34;&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:green>print</span>(<span style=color:#ba2121>&#34;files consists of </span><span style=color:#b68;font-weight:700>{}</span><span style=color:#ba2121> characters.&#34;</span><span style=color:#666>.</span>format(<span style=color:green>len</span>(text)))
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># files consists of 65 characters.</span>
</span></span></code></pre></div><ol start=3><li><code>try except finally</code></li></ol><ul><li>Whether the try module is executed, finally is executed</li></ul><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>ls <span style=color:#666>=</span> []
</span></span><span style=display:flex><span>d <span style=color:#666>=</span> {<span style=color:#ba2121>&#34;name&#34;</span>: <span style=color:#ba2121>&#34;timerring&#34;</span>}
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># y = x</span>
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>try</span>:
</span></span><span style=display:flex><span>    y <span style=color:#666>=</span> m
</span></span><span style=display:flex><span>    <span style=color:#408080;font-style:italic># ls[3]</span>
</span></span><span style=display:flex><span>    <span style=color:#408080;font-style:italic># d[&#34;age&#34;]</span>
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>except</span> <span style=color:#d2413a;font-weight:700>Exception</span> <span style=color:green;font-weight:700>as</span> e:    <span style=color:#408080;font-style:italic># Although it cannot obtain the specific type of error, it can obtain the value of the error</span>
</span></span><span style=display:flex><span>    <span style=color:green>print</span>(e)
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>finally</span>:
</span></span><span style=display:flex><span>    <span style=color:green>print</span>(<span style=color:#ba2121>&#34;Whether an exception is triggered, it will be executed&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># name &#39;m&#39; is not defined</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># Whether an exception is triggered, it will be executed</span>
</span></span></code></pre></div><h2 id=module-introduction>Module Introduction
<a class=anchor href=#module-introduction>#</a></h2><p>Already encapsulated, no need to &ldquo;invent the wheel&rdquo; yourself, declare import, and use it directly.</p><h3 id=broad-module-classification>Broad module classification
<a class=anchor href=#broad-module-classification>#</a></h3><h3 id=python-built-in>Python built-in
<a class=anchor href=#python-built-in>#</a></h3><p>Time library <code>time</code> Random library <code>random</code> Container data type <code>collection</code> Iterator function <code>itertools</code></p><h3 id=third-party-library>Third-party library
<a class=anchor href=#third-party-library>#</a></h3><p>Data analysis <code>numpy</code>, <code>pandas</code> Data visualization <code>matplotlib</code> Machine learning <code>scikit-learn</code> Deep learning <code>Tensorflow</code></p><h3 id=custom-file>Custom file
<a class=anchor href=#custom-file>#</a></h3><ul><li>Separate py file</li><li>Package contains multiple py files, needs to add an <code>__init__.py</code> file.</li></ul><h3 id=module-import>Module import
<a class=anchor href=#module-import>#</a></h3><ol><li>Import the entire module——<code>import module name</code></li></ol><ul><li>Call method: module name.function name or class name</li></ul><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:green;font-weight:700>import</span> <span style=color:#00f;font-weight:700>time</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>start <span style=color:#666>=</span> time<span style=color:#666>.</span>time()      <span style=color:#408080;font-style:italic># Call time module&#39;s time()</span>
</span></span><span style=display:flex><span>time<span style=color:#666>.</span>sleep(<span style=color:#666>3</span>)            <span style=color:#408080;font-style:italic># Call time module&#39;s sleep()</span>
</span></span><span style=display:flex><span>end <span style=color:#666>=</span> time<span style=color:#666>.</span>time()       
</span></span><span style=display:flex><span><span style=color:green>print</span>(<span style=color:#ba2121>&#34;</span><span style=color:#b68;font-weight:700>{:.2f}</span><span style=color:#ba2121>s&#34;</span><span style=color:#666>.</span>format(end<span style=color:#666>-</span>start))
</span></span></code></pre></div><ol start=2><li>Import classes or functions from a module——<code>from module import class name or function name</code></li></ol><ul><li>Call method: function name or class name</li></ul><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:green;font-weight:700>from</span> <span style=color:#00f;font-weight:700>itertools</span> <span style=color:green;font-weight:700>import</span> product   <span style=color:#408080;font-style:italic># This case can directly use the function name for use, without adding the previous module name</span>
</span></span><span style=display:flex><span>ls <span style=color:#666>=</span> <span style=color:green>list</span>(product(<span style=color:#ba2121>&#34;AB&#34;</span>, <span style=color:#ba2121>&#34;123&#34;</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># Import multiple</span>
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>from</span> <span style=color:#00f;font-weight:700>function</span> <span style=color:green;font-weight:700>import</span> fun1, fun2
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>fun1<span style=color:#666>.</span>f1()
</span></span><span style=display:flex><span>fun2<span style=color:#666>.</span>f2()
</span></span></code></pre></div><ol start=3><li>Import all classes and functions from a module——<code>from module import *</code> (not recommended)</li></ol><ul><li>Call method: function name or class name</li></ul><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:green;font-weight:700>from</span> <span style=color:#00f;font-weight:700>random</span> <span style=color:green;font-weight:700>import</span> <span style=color:#666>*</span> <span style=color:#408080;font-style:italic># Wildcard import all files, so you can use without adding the module name prefix</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:green>print</span>(randint(<span style=color:#666>1</span>,<span style=color:#666>100</span>))
</span></span><span style=display:flex><span><span style=color:green>print</span>(random()) 
</span></span></code></pre></div><h3 id=module-search-path>Module search path
<a class=anchor href=#module-search-path>#</a></h3><p>Module search order:</p><ol><li>Priority memory loaded module</li><li>Built-in module<ul><li>When Python starts, the interpreter will load some <code>modules</code> into <code>sys.modules</code></li><li><code>sys.modules</code> variable contains a dictionary of modules loaded into the interpreter (fully and successfully imported), with the module name as the key and its location as the value</li></ul></li></ol><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:green;font-weight:700>import</span> <span style=color:#00f;font-weight:700>sys</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:green>print</span>(<span style=color:green>len</span>(sys<span style=color:#666>.</span>modules)) <span style=color:#408080;font-style:italic># 738</span>
</span></span><span style=display:flex><span><span style=color:green>print</span>(<span style=color:#ba2121>&#34;math&#34;</span> <span style=color:#a2f;font-weight:700>in</span> sys<span style=color:#666>.</span>modules) <span style=color:#408080;font-style:italic># True</span>
</span></span><span style=display:flex><span><span style=color:green>print</span>(<span style=color:#ba2121>&#34;numpy&#34;</span> <span style=color:#a2f;font-weight:700>in</span> sys<span style=color:#666>.</span>modules) <span style=color:#408080;font-style:italic># False</span>
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>for</span> k,v <span style=color:#a2f;font-weight:700>in</span> <span style=color:green>list</span>(sys<span style=color:#666>.</span>modules<span style=color:#666>.</span>items())[:<span style=color:#666>20</span>]:
</span></span><span style=display:flex><span><span style=color:green>print</span>(k, <span style=color:#ba2121>&#34;:&#34;</span>, v)
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># sys : &lt;module &#39;sys&#39; (built-in)&gt;</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># builtins : &lt;module &#39;builtins&#39; (built-in)&gt;</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># _frozen_importlib : &lt;module &#39;importlib._bootstrap&#39; (frozen)&gt;</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># _imp : &lt;module &#39;_imp&#39; (built-in)&gt;</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># _thread : &lt;module &#39;_thread&#39; (built-in)&gt;</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># _warnings : &lt;module &#39;_warnings&#39; (built-in)&gt;</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># _weakref : &lt;module &#39;_weakref&#39; (built-in)&gt;</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># zipimport : &lt;module &#39;zipimport&#39; (built-in)&gt;</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># _frozen_importlib_external : &lt;module &#39;importlib._bootstrap_external&#39; (frozen)&gt;</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># _io : &lt;module &#39;io&#39; (built-in)&gt;</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># marshal : &lt;module &#39;marshal&#39; (built-in)&gt;</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># nt : &lt;module &#39;nt&#39; (built-in)&gt;</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># winreg : &lt;module &#39;winreg&#39; (built-in)&gt;</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># encodings : &lt;module &#39;encodings&#39; from &#39;C:\\Users\\ibm\\Anaconda3\\lib\\encodings\\__init__.py&#39;&gt;</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># codecs : &lt;module &#39;codecs&#39; from &#39;C:\\Users\\ibm\\Anaconda3\\lib\\codecs.py&#39;&gt;</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># _codecs : &lt;module &#39;_codecs&#39; (built-in)&gt;</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># encodings.aliases : &lt;module &#39;encodings.aliases&#39; from &#39;C:\\Users\\ibm\\Anaconda3\\lib\\encodings\\aliases.py&#39;&gt;</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># encodings.utf_8 : &lt;module &#39;encodings.utf_8&#39; from &#39;C:\\Users\\ibm\\Anaconda3\\lib\\encodings\\utf_8.py&#39;&gt;</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># _signal : &lt;module &#39;_signal&#39; (built-in)&gt;</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># __main__ : &lt;module &#39;__main__&#39;&gt;</span>
</span></span></code></pre></div><ol start=3><li>modules in sys.path</li></ol><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:green;font-weight:700>import</span> <span style=color:#00f;font-weight:700>sys</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>sys<span style=color:#666>.</span>path
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># [&#39;E:\\ipython&#39;,</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic>#     &#39;C:\\Users\\ibm\\Anaconda3\\python37.zip&#39;,</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic>#     &#39;C:\\Users\\ibm\\Anaconda3\\DLLs&#39;,</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic>#     &#39;C:\\Users\\ibm\\Anaconda3\\lib&#39;,</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic>#     &#39;C:\\Users\\ibm\\Anaconda3&#39;,</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic>#     &#39;&#39;,</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic>#     &#39;C:\\Users\\ibm\\AppData\\Roaming\\Python\\Python37\\site-packages&#39;,</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic>#     &#39;C:\\Users\\ibm\\Anaconda3\\lib\\site-packages&#39;,</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic>#     &#39;C:\\Users\\ibm\\Anaconda3\\lib\\site-packages\\win32&#39;,</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic>#     &#39;C:\\Users\\ibm\\Anaconda3\\lib\\site-packages\\win32\\lib&#39;,</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic>#     &#39;C:\\Users\\ibm\\Anaconda3\\lib\\site-packages\\Pythonwin&#39;,</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic>#     &#39;C:\\Users\\ibm\\Anaconda3\\lib\\site-packages\\IPython\\extensions&#39;,</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic>#     &#39;C:\\Users\\ibm\\.ipython&#39;]</span>
</span></span></code></pre></div><ul><li>The first path in sys.path is the folder where the current execution file is located</li><li>If you need to import a module that is not in this folder, you need to add the module path to sys.path</li></ul><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:green;font-weight:700>import</span> <span style=color:#00f;font-weight:700>sys</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>sys<span style=color:#666>.</span>path<span style=color:#666>.</span>append(<span style=color:#ba2121>&#34;C:</span><span style=color:#b62;font-weight:700>\\</span><span style=color:#ba2121>Users</span><span style=color:#b62;font-weight:700>\\</span><span style=color:#ba2121>ibm</span><span style=color:#b62;font-weight:700>\\</span><span style=color:#ba2121>Desktop&#34;</span>)    <span style=color:#408080;font-style:italic># Note that it is double slashes, if it is win</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>import</span> <span style=color:#00f;font-weight:700>fun3</span>
</span></span><span style=display:flex><span>fun3<span style=color:#666>.</span>f3() <span style=color:#408080;font-style:italic># Import fun3 successfully</span>
</span></span></code></pre></div><h2>Related readings</h2><ul><li><a href="/posts/python-object-oriented-programming/?utm_source=related">Python Object Oriented Programming</a></li><li><a href="/posts/python-cheatsheet/?utm_source=related">Python Cheatsheet</a></li><li><a href="/posts/python-function-parameter/?utm_source=related">Python Function Parameter</a></li><li><a href="/posts/python-control-structure/?utm_source=related">Python Control Structure</a></li><li><a href="/posts/python-composite-data-type/?utm_source=related">Python Composite Data Type</a></li></ul><hr><div class=post-nav><a href="https://blog.timerring.com/posts/python-object-oriented-programming/?utm_source=nav">&lt;&lt; prev | Python Object...</a>
<a onclick=goToRandomPost() style=cursor:pointer>Continue strolling</a>
<a href="https://blog.timerring.com/posts/python-underlying-mechanism/?utm_source=nav">Python... ｜ next >></a></div><hr>If you find this blog useful and want to support my blog, need my skill for something, or have a coffee chat with me, feel free to:<div class=support><a href=https://ko-fi.com/polls/What-is-the-custom-topic-for-the-next-month-C0C219LHQJ class=book-btn target=_blank>Subscribe to participate in blog topics and custom services</a>
<a href=https://ko-fi.com/timerring class=book-btn target=_blank>Buy me a coffee</a></div><div style=margin-bottom:8px></div><script>function goToRandomPost(){const e=["/posts/is-there-an-rss-renaissance-in-the-ai-era/?utm_source=random","/posts/a-shopping-experience-in-pangdonglai-supermarket/?utm_source=random","/posts/langchain-and-rag-best-practices/?utm_source=random","/posts/random-variables/?utm_source=random","/posts/repeated-trials/?utm_source=random","/posts/probability-and-its-axioms/?utm_source=random","/posts/further-understanding-of-proc/?utm_source=random","/posts/the-iftop/?utm_source=random","/posts/reflections-on-trending-topics/?utm_source=random","/posts/cpu-can-only-see-the-threads/?utm_source=random","/posts/go-common-test/?utm_source=random","/posts/go-concurrency-and-parallelism/?utm_source=random","/posts/go-cheatsheet/?utm_source=random","/posts/video-technology-101/?utm_source=random","/posts/the-main-kind-of-message-queue/?utm_source=random","/posts/the-method-to-manage-traffic/?utm_source=random","/posts/the-different-kind-of-api-design/?utm_source=random","/posts/the-encode-and-decode-in-python/?utm_source=random","/posts/about-the-systemd/?utm_source=random","/posts/the-tips-about-dockerfile/?utm_source=random","/posts/docker-cheatsheet/?utm_source=random","/posts/docker-101/?utm_source=random","/posts/the-instance-class-static-magic-method-in-python/?utm_source=random","/posts/the-review-and-plan-for-bilive/?utm_source=random","/posts/the-overview-of-security/?utm_source=random","/posts/how-to-publish-your-code-as-a-pip-module/?utm_source=random","/posts/some-good-things-to-share-about-the-packages/?utm_source=random","/posts/introduction-to-the-http-and-https-protocol/?utm_source=random","/posts/mail-service-and-protocol/?utm_source=random","/posts/understanding-clash-through-configuration/?utm_source=random","/posts/thinking-about-advertisement-from-an-open-source-perspective/?utm_source=random","/posts/a-brief-introduction-to-dns/?utm_source=random","/posts/real-computer-network/?utm_source=random","/posts/python-generator-iterator-and-decorator/?utm_source=random","/posts/python-underlying-mechanism/?utm_source=random","/posts/python-files-exceptions-and-modules/?utm_source=random","/posts/python-object-oriented-programming/?utm_source=random","/posts/python-cheatsheet/?utm_source=random","/posts/python-function-parameter/?utm_source=random","/posts/python-control-structure/?utm_source=random","/posts/python-composite-data-type/?utm_source=random","/posts/python-basic-data-type/?utm_source=random","/posts/python-basic-syntax-elements/?utm_source=random","/posts/deploy-github-pages-with-gpg-signing/?utm_source=random","/posts/gpg-101/?utm_source=random","/posts/housewarming-2024/?utm_source=random"],t=Math.floor(Math.random()*e.length);window.location.href=e[t]}</script></article><div class=book-comments><div class="book-tabs-content markdown-inner"><div id=tcomment></div><script src=https://giscus.app/client.js data-repo=timerring/blog data-repo-id=R_kgDONeZYZg data-category=Announcements data-category-id=DIC_kwDONeZYZs4ClRWs data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=en crossorigin=anonymous async></script></div></div><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script><div class=busuanzi-footer><p style=text-align:center>&copy; 2022 - present <a href=https://github.com/timerring>timerring</a> | PV: <span id=busuanzi_value_site_pv></span> | UV: <span id=busuanzi_value_site_uv></span></p></div></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#file-read-and-write>File Read and Write</a><ul><li><a href=#file-open>File Open</a><ul><li><a href=#open-mode>Open Mode</a></li><li><a href=#character-encoding>Character Encoding</a></li></ul></li><li><a href=#file-read>File Read</a></li><li><a href=#file-write>File Write</a></li><li><a href=#read-and-write>Read and Write</a></li><li><a href=#data-storage-and-reading>Data Storage and Reading</a></li></ul></li><li><a href=#exception-handling>Exception Handling</a><ul><li><a href=#common-exception-generation>Common Exception Generation</a></li><li><a href=#exception-handling-1>Exception Handling</a></li></ul></li><li><a href=#module-introduction>Module Introduction</a><ul><li><a href=#broad-module-classification>Broad module classification</a></li><li><a href=#python-built-in>Python built-in</a></li><li><a href=#third-party-library>Third-party library</a></li><li><a href=#custom-file>Custom file</a></li><li><a href=#module-import>Module import</a></li><li><a href=#module-search-path>Module search path</a></li></ul></li></ul></nav><style>.book-toc .book-toc-content a{color:var(--body-font-color)}</style></div></aside></main></body></html>