<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="In the daily life, we often hear about different kind of API, such as REST API, GraphQL API, WebSocket, Webhook, RPC and gRPC even the SOAP, so do you know the difference between them? How to choose the right API for your project?"><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="The Different Kind of API Design"><meta property="og:description" content="In the daily life, we often hear about different kind of API, such as REST API, GraphQL API, WebSocket, Webhook, RPC and gRPC even the SOAP, so do you know the difference between them? How to choose the right API for your project?"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.timerring.com/posts/the-different-kind-of-api-design/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-01-19T14:42:18+08:00"><meta property="article:modified_time" content="2025-01-19T14:42:18+08:00"><title>The Different Kind of API Design | timerring</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.e5c400e9a39f7eafc90351230108cdc038497f3b6478689fe605ab3dd006274d.css integrity="sha256-5cQA6aOffq/JA1EjAQjNwDhJfztkeGif5gWrPdAGJ00=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script>
<script defer src=/en.search.min.81d0141baa8416da09ac9cc64ec502baa254af596670820f6288b42fb8953e56.js integrity="sha256-gdAUG6qEFtoJrJzGTsUCuqJUr1lmcIIPYoi0L7iVPlY=" crossorigin=anonymous></script>
<script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><meta name=referrer content="no-referrer-when-downgrade"></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><img src=/favicon.png alt=Logo><span>timerring</span></a></h2><hr><p>Rhythmic trend.</p><div class=book-search><div class=gcse-search></div></div><script async src="https://cse.google.com/cse.js?cx=40782701766144f96"></script><ul><li><a href=/>Dashboard</a></li><li><a href=/posts/>Blogs</a></li><li><a href=/categories/weekly/>Newsletter</a></li><li><a href=/index.xml>RSS</a></li><li><a href=/friends/>Friends</a></li><li><a href=/about/>About</a></li></ul><script>function goToRandomPost(){const e=["/posts/reflections-on-trending-topics/?utm_source=random","/posts/cpu-can-only-see-the-threads/?utm_source=random","/posts/go-common-test/?utm_source=random","/posts/go-concurrency-and-parallelism/?utm_source=random","/posts/go-cheatsheet/?utm_source=random","/posts/video-technology-101/?utm_source=random","/posts/the-main-kind-of-message-queue/?utm_source=random","/posts/the-method-to-manage-traffic/?utm_source=random","/posts/the-different-kind-of-api-design/?utm_source=random","/posts/the-encode-and-decode-in-python/?utm_source=random","/posts/about-the-systemd/?utm_source=random","/posts/docker-cheatsheet/?utm_source=random","/posts/docker-101/?utm_source=random","/posts/the-instance-class-static-magic-method-in-python/?utm_source=random","/posts/the-overview-of-security/?utm_source=random","/posts/how-to-publish-your-code-as-a-pip-module/?utm_source=random","/posts/some-good-things-to-share-about-the-packages/?utm_source=random","/posts/introduction-to-the-http-and-https-protocol/?utm_source=random","/posts/mail-service-and-protocol/?utm_source=random","/posts/thinking-about-advertisement-from-an-open-source-perspective/?utm_source=random","/posts/understanding-clash-through-configuration/?utm_source=random","/posts/a-brief-introduction-to-dns/?utm_source=random","/posts/real-computer-network/?utm_source=random","/posts/python-generator-iterator-and-decorator/?utm_source=random","/posts/python-underlying-mechanism/?utm_source=random","/posts/python-files-exceptions-and-modules/?utm_source=random","/posts/python-object-oriented-programming/?utm_source=random","/posts/python-cheatsheet/?utm_source=random","/posts/python-function-parameter/?utm_source=random","/posts/python-control-structure/?utm_source=random","/posts/python-composite-data-type/?utm_source=random","/posts/python-basic-data-type/?utm_source=random","/posts/python-basic-syntax-elements/?utm_source=random","/posts/deploy-github-pages-with-gpg-signing/?utm_source=random","/posts/gpg-101/?utm_source=random","/posts/housewarming-2024/?utm_source=random"],t=Math.floor(Math.random()*e.length);window.location.href=e[t]}</script><a class=random onclick=goToRandomPost()>Stroll</a></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>timerring</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#rest-api>REST API</a><ul><li><a href=#key-concepts-and-characteristics>Key Concepts and Characteristics</a><ul><li><a href=#resource>Resource</a></li><li><a href=#crud-operations>CRUD Operations</a></li><li><a href=#http-methods>HTTP Methods</a></li><li><a href=#status-codes>Status Codes</a></li><li><a href=#stateless>Stateless</a></li><li><a href=#client-server-architecture>Client-Server Architecture</a></li><li><a href=#cacheable>Cacheable</a></li><li><a href=#layered-system>Layered System</a></li><li><a href=#hateoas>HATEOAS</a></li></ul></li><li><a href=#use-cases>Use Cases</a></li><li><a href=#examples>Examples</a></li></ul></li><li><a href=#graphql-api>GraphQL API</a><ul><li><a href=#key-concepts-and-characteristics-1>Key Concepts and Characteristics</a><ul><li><a href=#query-language-for-apis>Query Language for APIs</a></li><li><a href=#type-system>Type System</a></li><li><a href=#single-endpoint>Single Endpoint</a></li><li><a href=#resolvers>Resolvers</a></li><li><a href=#real-time-updates-with-subscriptions>Real-time Updates with Subscriptions</a></li><li><a href=#introspective>Introspective</a></li></ul></li><li><a href=#use-cases-1>Use Cases</a></li><li><a href=#examples-1>Examples</a></li></ul></li><li><a href=#websocket>WebSocket</a><ul><li><a href=#key-concepts-and-characteristics-2>Key Concepts and Characteristics</a><ul><li><a href=#persistent-connection>Persistent Connection</a></li><li><a href=#upgrade-handshake>Upgrade Handshake</a></li><li><a href=#frames>Frames</a></li><li><a href=#low-latency>Low Latency</a></li><li><a href=#bidirectional>Bidirectional</a></li><li><a href=#less-overhead>Less Overhead</a></li><li><a href=#protocols-and-extensions>Protocols and Extensions</a></li></ul></li><li><a href=#use-cases-2>Use Cases</a></li><li><a href=#examples-2>Examples</a></li></ul></li><li><a href=#webhook>Webhook</a><ul><li><a href=#key-concepts-and-characteristics-3>Key Concepts and Characteristics</a><ul><li><a href=#event-driven>Event-Driven</a></li><li><a href=#callback-mechanism>Callback Mechanism</a></li><li><a href=#payload>Payload</a></li><li><a href=#real-time>Real-time</a></li><li><a href=#customizable>Customizable</a></li><li><a href=#security>Security</a></li></ul></li><li><a href=#use-cases-3>Use Cases</a></li><li><a href=#examples-3>Examples</a></li></ul></li><li><a href=#rpcgrpc>RPC/gRPC</a><ul><li><a href=#rpc>RPC</a></li><li><a href=#key-concepts-and-characteristics-4>Key Concepts and Characteristics</a><ul><li><a href=#definition>Definition</a></li><li><a href=#stubs>Stubs</a></li><li><a href=#synchronous-by-default>Synchronous by default</a></li><li><a href=#language-neutral>Language Neutral</a></li><li><a href=#tight-coupling>Tight Coupling</a></li></ul></li><li><a href=#use-cases-4>Use Cases</a></li><li><a href=#examples-4>Examples</a></li><li><a href=#grpc>gRPC</a></li><li><a href=#key-concepts-and-characteristics-5>Key Concepts and Characteristics</a><ul><li><a href=#definition-1>Definition</a></li><li><a href=#protocol-buffers>Protocol Buffers</a></li><li><a href=#performance>Performance</a></li><li><a href=#streaming>Streaming</a></li><li><a href=#deadlinestimeouts>Deadlines/Timeouts</a></li><li><a href=#pluggable>Pluggable</a></li><li><a href=#language-neutral-1>Language Neutral</a></li></ul></li><li><a href=#use-cases-5>Use Cases</a></li><li><a href=#examples-5>Examples</a></li></ul></li><li><a href=#soap>SOAP</a><ul><li><a href=#key-concepts-and-characteristics-6>Key Concepts and Characteristics</a><ul><li><a href=#xml-based>XML-Based</a></li><li><a href=#neutrality>Neutrality</a></li><li><a href=#independence>Independence</a></li><li><a href=#stateless-1>Stateless</a></li><li><a href=#built-in-error-handling>Built-in Error Handling</a></li><li><a href=#standardized>Standardized</a></li></ul></li><li><a href=#use-cases-6>Use Cases</a></li><li><a href=#example>Example</a></li></ul></li></ul></nav><style>.book-toc .book-toc-content a{color:var(--body-font-color)}</style></aside></header><article class=markdown><h1>The Different Kind of API Design</h1><h5>January 19, 2025
·
14 min read
<span id=busuanzi_container_page_pv>· Page View: <span id=busuanzi_value_page_pv></span></span></h5><div><a href=/categories/tutorial/ style=color:#000>Tutorial</a></div><div><a href=/tags/reprint/ style=color:#000>Reprint</a> <span style=color:#000>|</span>
<a href=/tags/api/ style=color:#000>API</a> <span style=color:#000>|</span>
<a href=/tags/rest/ style=color:#000>REST</a> <span style=color:#000>|</span>
<a href=/tags/graphql/ style=color:#000>GraphQL</a> <span style=color:#000>|</span>
<a href=/tags/websocket/ style=color:#000>WebSocket</a> <span style=color:#000>|</span>
<a href=/tags/webhook/ style=color:#000>Webhook</a> <span style=color:#000>|</span>
<a href=/tags/grpc/ style=color:#000>gRPC</a> <span style=color:#000>|</span>
<a href=/tags/soap/ style=color:#000>SOAP</a></div><p><img src=https://cdn.jsdelivr.net/gh/timerring/scratchpad2023/2024/2025-01-19-16-10-37.png></p><p class=title-image><i>This article is reprint from Aleksandr Gavrilenko's article: The System Design Cheat Sheet: API Styles - REST, GraphQL, WebSocket, Webhook, RPC/gRPC, SOAP</i></p><blockquote class="book-hint info">If you have any questions, feel free to comment below.</blockquote><hr><p>In the daily life, we often hear about different kind of API, such as REST API, GraphQL API, WebSocket, Webhook, RPC and gRPC even the SOAP, so do you know the difference between them? How to choose the right API for your project?</p><blockquote><p>Note: this article is reprint from the article : <a href=https://hackernoon.com/the-system-design-cheat-sheet-api-styles-rest-graphql-websocket-webhook-rpcgrpc-soap target=_blank>The System Design Cheat Sheet: API Styles - REST, GraphQL, WebSocket, Webhook, RPC/gRPC, SOAP<span style=white-space:nowrap><svg width=".7em" height=".7em" viewBox="0 0 21 21" xmlns="http://www.w3.org/2000/svg"><path d="m13 3 3.293 3.293-7 7 1.414 1.414 7-7L21 11V3z" fill="currentcolor"/><path d="M19 19H5V5h7l-2-2H5c-1.103.0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103.0 2-.897 2-2v-5l-2-2v7z" fill="currentcolor"/></span></a>, the author is Aleksandr Gavrilenko who I really appreciate.</p></blockquote><ul><li>REST(Representational State Transfer): the most used style that uses standard methods and HTTP protocols. It&rsquo;s based on principles like statelessness, client-server architecture, and cacheability. It&rsquo;s often used between front-end clients and back-end services.</li><li>GraphQL: a query language for APIs and a runtime for fulfilling those queries with your existing data. GraphQL provides a complete and understandable description of the data in your API, gives clients the power to ask for exactly what they need and nothing more, reducing over-fetching.</li><li>WebSocket: a protocol allowing two-way communication over TCP. Clients use web sockets to <strong>get real-time updates</strong> from back-end systems.</li><li>Webhook: a way to send data from one application to another. It&rsquo;s often used to send data about specific events from a back-end service to a front-end client. It is a user-defined HTTP callback.</li><li>RPC (gRPC): a protocol that one service can use to request a procedure/method from a service located on another computer in a network. Usually, It&rsquo;s designed for low-latency, high-speed communication.</li><li>SOAP: a protocol for exchanging structured information to implement web services. It relies on XML and is known for its robustness and security features, currently considered a legacy protocol.</li></ul><h2 id=rest-api>REST API
<a class=anchor href=#rest-api>#</a></h2><p><img src=https://cdn.jsdelivr.net/gh/timerring/scratchpad2023/2024/2025-01-19-15-08-47.png alt></p><p>REST API is the most used style that uses standard methods and HTTP protocols. Its stateless nature and use of standard HTTP methods make it a popular choice for building web-based APIs.</p><p><strong>Format: XML, JSON, HTML, plain text</strong></p><p><strong>Transport protocol: HTTP/HTTPS</strong></p><h3 id=key-concepts-and-characteristics>Key Concepts and Characteristics
<a class=anchor href=#key-concepts-and-characteristics>#</a></h3><h4 id=resource>Resource
<a class=anchor href=#resource>#</a></h4><p>In REST, <strong>everything is a resource</strong>. A resource is an object with a type, associated data, relationships to other resources, and a set of methods that operate on it. Resources are identified by their URIs (typically a URL).</p><h4 id=crud-operations>CRUD Operations
<a class=anchor href=#crud-operations>#</a></h4><p>REST services often map directly to CRUD (Create, Read, Update, Delete) operations on resources.</p><h4 id=http-methods>HTTP Methods
<a class=anchor href=#http-methods>#</a></h4><p>REST systems use standard HTTP methods:</p><ul><li>GET: Retrieve a resource.</li><li>POST: Create a new resource.</li><li>PUT/PATCH: Update an existing resource.</li><li>DELETE: Remove a resource.</li></ul><h4 id=status-codes>Status Codes
<a class=anchor href=#status-codes>#</a></h4><p>REST APIs use standard HTTP status codes to indicate the success or failure of an API request:</p><p>For more status codes, you can refer to the RFC manual.</p><p>2xx - Acknowledge and Success</p><ul><li>200 - OK</li><li>201 - Created</li><li>202 - Accepted</li></ul><p>3xx - Redirection</p><ul><li>301 - Moved Permanently</li><li>302 - Found</li><li>303 - See Other</li></ul><p>4xx - Client Error</p><ul><li>400 - Bad Request</li><li>401 - Unauthorized</li><li>403 - Forbidden</li><li>404 - Not Found</li><li>405 - Method Not Allowed</li></ul><p>5xx - Server Error</p><ul><li>500 - Internal Server Error</li><li>501 - Not Implemented</li><li>502 - Bad Gateway</li><li>503 - Service Unavailable</li><li>504 - Gateway Timeout</li></ul><h4 id=stateless>Stateless
<a class=anchor href=#stateless>#</a></h4><p>Each request from a client to a server must contain all the information needed to understand and process the request. The server should not store anything about the client&rsquo;s state between requests.</p><h4 id=client-server-architecture>Client-Server Architecture
<a class=anchor href=#client-server-architecture>#</a></h4><p>REST is based on the client-server model. The client is responsible for the user interface and experience, while the server is responsible for processing requests, handling business logic, and storing data.</p><h4 id=cacheable>Cacheable
<a class=anchor href=#cacheable>#</a></h4><p><strong>Responses from the server can be cached by the client</strong>. The server must indicate whether a response is cacheable or not.</p><h4 id=layered-system>Layered System
<a class=anchor href=#layered-system>#</a></h4><p>A client cannot ordinarily tell whether it is connected directly to the end server or an intermediary. Intermediary servers can improve system scalability by enabling load balancing and providing shared caches.</p><h4 id=hateoas>HATEOAS
<a class=anchor href=#hateoas>#</a></h4><p>Hypermedia As The Engine Of Application Stat is a REST web service principle that enables clients to interact with and navigate through a web application entirely based on the hypermedia provided dynamically by the server in its responses, promoting loose coupling and discoverability.</p><h3 id=use-cases>Use Cases
<a class=anchor href=#use-cases>#</a></h3><p>Web Services: Many web services expose their functionality via REST APIs, allowing third-party developers to integrate and extend their services.</p><p>Mobile Applications: Mobile apps often communicate with backend servers using REST APIs to fetch and send data.</p><p>Single Page Applications (SPAs): SPAs use REST APIs to dynamically load content without requiring a full page refresh.</p><p>Integration Between Systems: Systems within an organization can communicate and share data using REST APIs.</p><h3 id=examples>Examples
<a class=anchor href=#examples>#</a></h3><p>Request</p><pre tabindex=0><code>GET “/user/42”
</code></pre><p>Response</p><pre tabindex=0><code>{
  &#34;id&#34;: 42,
  &#34;name&#34;: &#34;John Doe&#34;,
  &#34;email&#34;: &#34;john.doe@example.com&#34;
  &#34;links&#34;: {
      &#34;role&#34;: &#34;/user/42/role&#34;
  }
}
</code></pre><h2 id=graphql-api>GraphQL API
<a class=anchor href=#graphql-api>#</a></h2><p><img src=https://cdn.jsdelivr.net/gh/timerring/scratchpad2023/2024/2025-01-19-15-17-38.png alt></p><p>It offers a more flexible, robust, and efficient approach to building APIs, especially in complex systems or when the frontend needs high flexibility. It shifts some of the responsibility from the server to the client, allowing the client to specify its data requirements.</p><p><strong>Format: JSON</strong></p><p><strong>Transport protocol: HTTP/HTTPS</strong></p><h3 id=key-concepts-and-characteristics-1>Key Concepts and Characteristics
<a class=anchor href=#key-concepts-and-characteristics-1>#</a></h3><h4 id=query-language-for-apis>Query Language for APIs
<a class=anchor href=#query-language-for-apis>#</a></h4><p>It allows clients to request the data they need, making it possible to get all required information in a single request.</p><h4 id=type-system>Type System
<a class=anchor href=#type-system>#</a></h4><p>GraphQL APIs are organized in terms of <strong>types and fields</strong>, not endpoints. It uses a strong type system to define the capabilities of an API. All the types exposed in an API are written down in a schema using the <strong>GraphQL Schema Definition Language (SDL)</strong>.</p><h4 id=single-endpoint>Single Endpoint
<a class=anchor href=#single-endpoint>#</a></h4><p>Unlike REST, where you might have multiple endpoints for different resources, in GraphQL, you typically expose a single endpoint that expresses the complete set of capabilities of the service.</p><h4 id=resolvers>Resolvers
<a class=anchor href=#resolvers>#</a></h4><p>On the server side, resolvers gather the data described in a query.</p><h4 id=real-time-updates-with-subscriptions>Real-time Updates with Subscriptions
<a class=anchor href=#real-time-updates-with-subscriptions>#</a></h4><p>GraphQL supports real-time updates through subscriptions, allowing clients to receive updates when data changes.</p><h4 id=introspective>Introspective
<a class=anchor href=#introspective>#</a></h4><p>A GraphQL server can be queried for the types it supports. This creates a strong contract between client and server, allowing for tooling and better validation.</p><h3 id=use-cases-1>Use Cases
<a class=anchor href=#use-cases-1>#</a></h3><p>Flexible Frontends: For applications (especially mobile) with crucial bandwidth, you want to minimize the data fetched from the server.</p><p>Aggregating Microservices: A GraphQL layer can be introduced to aggregate the data from these services into a unified API if you have multiple microservices.</p><p>Real-time Applications: With its subscription system, GraphQL can be an excellent fit for applications that need real-time data, like chat applications, live sports updates, etc.</p><p>Version-Free APIs: With REST, you often need to version your APIs once changes are introduced. With GraphQL, clients only request the data required, so adding new fields or types doesn&rsquo;t create breaking changes.</p><h3 id=examples-1>Examples
<a class=anchor href=#examples-1>#</a></h3><p>Request</p><pre tabindex=0><code>GET “/graphql?query=user(id:42){ name role { id name } }”
</code></pre><p>Response</p><pre tabindex=0><code>{
    &#34;data&#34;: {
        &#34;user&#34;: {
            &#34;id&#34;: 42,
            &#34;name&#34;: &#34;Alex&#34;,
            &#34;role&#34;: {
                &#34;id&#34;: 1,
                &#34;name&#34;: &#34;admin&#34;
            }
        }
    }
}
</code></pre><h2 id=websocket>WebSocket
<a class=anchor href=#websocket>#</a></h2><p><img src=https://cdn.jsdelivr.net/gh/timerring/scratchpad2023/2024/2025-01-19-15-18-32.png alt></p><p>WebSockets provide a <strong>full-duplex communication channel</strong> over a single, long-lived connection, allowing real-time data exchange between a client and a server. This makes it ideal for interactive and high-performance web applications.</p><p>The Websocket establish a connection by the <code>Upgrade</code> header in the HTTP request. The non-encrypted <code>ws://</code> and encrypted <code>wss://</code>. Because it uses HTTP handshake, it uses the same port: <code>ws</code> is 80 (HTTP), <code>wss</code> is 443 (HTTPS).</p><p><strong>Format: Binary</strong></p><p><strong>Transport protocol: TCP</strong></p><h3 id=key-concepts-and-characteristics-2>Key Concepts and Characteristics
<a class=anchor href=#key-concepts-and-characteristics-2>#</a></h3><h4 id=persistent-connection>Persistent Connection
<a class=anchor href=#persistent-connection>#</a></h4><p>Unlike the traditional request-response model, WebSockets provide a full-duplex communication channel that remains open, allowing for real-time data exchange.</p><h4 id=upgrade-handshake>Upgrade Handshake
<a class=anchor href=#upgrade-handshake>#</a></h4><p>WebSockets start as an HTTP request, which is then upgraded to a WebSocket connection if the server supports it. This is done via the <code>Upgrade</code> header.</p><h4 id=frames>Frames
<a class=anchor href=#frames>#</a></h4><p>Once the connection is established, data is <strong>transmitted as frames</strong>. Both text and binary data can be sent through these frames.</p><h4 id=low-latency>Low Latency
<a class=anchor href=#low-latency>#</a></h4><p>WebSockets allow for direct communication between the client and server without the overhead of opening a new connection for each exchange. This results in faster data exchange.</p><h4 id=bidirectional>Bidirectional
<a class=anchor href=#bidirectional>#</a></h4><p>Both the client and server can send messages to each other independently.</p><h4 id=less-overhead>Less Overhead
<a class=anchor href=#less-overhead>#</a></h4><p>After the initial connection, <strong>data frames require fewer bytes to send</strong>, leading to less overhead and better performance than repeatedly establishing HTTP connections.</p><h4 id=protocols-and-extensions>Protocols and Extensions
<a class=anchor href=#protocols-and-extensions>#</a></h4><p>WebSockets support subprotocols and extensions, allowing for standardized and custom protocols on top of the base WebSocket protocol.</p><h3 id=use-cases-2>Use Cases
<a class=anchor href=#use-cases-2>#</a></h3><p>Online Gaming: Real-time multiplayer games where players&rsquo; actions must be immediately reflected to other players.</p><p>Collaborative Tools: Applications like Google Docs, where multiple users can edit a document simultaneously and see each other&rsquo;s changes in real-time.</p><p>Financial Applications: Stock trading platforms where stock prices need to be updated in real-time.</p><p>Notifications: Any application where users need to receive real-time notifications, such as social media platforms or messaging apps.</p><p>Live Feeds: News websites or social media platforms where new posts or updates are streamed live to users.</p><h3 id=examples-2>Examples
<a class=anchor href=#examples-2>#</a></h3><p>Request</p><pre tabindex=0><code>GET /chat HTTP/1.1  // 请求行
Host: server.example.com
Upgrade: websocket  // required
Connection: Upgrade // required
Origin: http://example.com
Sec-WebSocket-Key: x3JJHMbDL1EzLkh9GBhXDw==
Sec-WebSocket-Protocol: chat, superchat
Sec-WebSocket-Version: 13
</code></pre><p>Response</p><pre tabindex=0><code>HTTP/1.1 101 Switching Protocols
Upgrade: websocket   // required
Connection: Upgrade  // required
Sec-WebSocket-Accept: s3pPLMBiTxaQ9kYGzzhZRbK+xOo= // required，the encoded Sec-WebSocket-Key
Sec-WebSocket-Protocol: chat
</code></pre><p>The handshaking process is not the TCP handshaking, but the upgrade process from HTTP/1.1 to WebSocket. After the handshaking process, the next is the frames of the websocket.</p><h2 id=webhook>Webhook
<a class=anchor href=#webhook>#</a></h2><p><img src=https://cdn.jsdelivr.net/gh/timerring/scratchpad2023/2024/2025-01-19-15-35-34.png alt></p><p>Webhook is a <strong>user-defined HTTP callback triggered</strong> by specific web application <strong>events</strong>, allowing real-time data updates and integrations between different systems.</p><p><strong>Format: XML, JSON, plain text</strong></p><p><strong>Transport protocol: HTTP/HTTPS</strong></p><h3 id=key-concepts-and-characteristics-3>Key Concepts and Characteristics
<a class=anchor href=#key-concepts-and-characteristics-3>#</a></h3><h4 id=event-driven>Event-Driven
<a class=anchor href=#event-driven>#</a></h4><p>Webhooks are typically used to denote that an event has occurred. Instead of requesting data at regular intervals, webhooks provide data as it happens, turning the traditional request-response model on its head.</p><h4 id=callback-mechanism>Callback Mechanism
<a class=anchor href=#callback-mechanism>#</a></h4><p>Webhooks are essentially a user-defined callback mechanism. When a specific event occurs, the source site makes an HTTP callback to the URI provided by the target site, which will then take a specific action.</p><h4 id=payload>Payload
<a class=anchor href=#payload>#</a></h4><p>When the webhook is triggered, the source site will send data (payload) to the target site. This data is typically in the form of JSON or XML.</p><h4 id=real-time>Real-time
<a class=anchor href=#real-time>#</a></h4><p>Webhooks allow applications to get real-time data, making them highly responsive.</p><h4 id=customizable>Customizable
<a class=anchor href=#customizable>#</a></h4><p>Users or developers can typically define what specific events they want to be notified about.</p><h4 id=security>Security
<a class=anchor href=#security>#</a></h4><p>Since webhooks involve making callbacks to user-defined HTTP endpoints, they can pose security challenges. It&rsquo;s crucial to ensure that the endpoint is secure, the data is validated, and possibly encrypted.</p><h3 id=use-cases-3>Use Cases
<a class=anchor href=#use-cases-3>#</a></h3><p><strong>Continuous Integration and Deployment (CI/CD)</strong>: Triggering builds and deployments when code is pushed, or a pull request is merged.</p><p><strong>Content Management Systems (CMS)</strong>: Notifying downstream systems when content is updated, published, or deleted.</p><p><strong>Payment Gateways</strong>: Informing e-commerce platforms about transaction outcomes, such as successful payments, failed transactions, or refunds.</p><p><strong>Social Media Integrations</strong>: Receiving notifications about new posts, mentions, or other relevant events on social media platforms.</p><p><strong>IoT (Internet of Things)</strong>: Devices or sensors can trigger webhooks to notify other systems or services about specific events or data readings.</p><h3 id=examples-3>Examples
<a class=anchor href=#examples-3>#</a></h3><p>Request</p><pre tabindex=0><code>GET “https://external-site/webhooks?url=http://site/service-h/api&amp;name=name”
</code></pre><p>Response</p><pre tabindex=0><code>{
  &#34;webhook_id&#34;: 12
}
</code></pre><h2 id=rpcgrpc>RPC/gRPC
<a class=anchor href=#rpcgrpc>#</a></h2><p><img src=https://cdn.jsdelivr.net/gh/timerring/scratchpad2023/2024/2025-01-19-15-42-59.png alt></p><p><strong>RPC (Remote Procedure Call)</strong> is a protocol that allows a program to execute a procedure or subroutine in another address space, enabling seamless communication and <strong>data exchange between distributed systems</strong>.</p><p><strong>gRPC (Google RPC)</strong> is a modern, open-source framework built on top of RPC that uses HTTP/2 for transport and Protocol Buffers as the interface description language, providing features like <strong>authentication</strong>, <strong>load balancing</strong>, and more to facilitate efficient and robust communication between microservices.</p><h3 id=rpc>RPC
<a class=anchor href=#rpc>#</a></h3><p><strong>Format: JSON, XML, Protobuf, Thrift, FlatBuffers</strong></p><p><strong>Transport protocol: Various</strong></p><h3 id=key-concepts-and-characteristics-4>Key Concepts and Characteristics
<a class=anchor href=#key-concepts-and-characteristics-4>#</a></h3><h4 id=definition>Definition
<a class=anchor href=#definition>#</a></h4><p>RPC allows a program to cause a procedure (subroutine) to execute in another address space (commonly on another computer on a shared network). <strong>It&rsquo;s like calling a function performed on a different machine than the caller&rsquo;s</strong>.</p><h4 id=stubs>Stubs
<a class=anchor href=#stubs>#</a></h4><p>In the context of RPC, stubs are pieces of code generated by tools that allow local and remote procedure calls to appear the same. <strong>The client has a stub that looks like the remote procedure, and the server has a stub that unpacks arguments, calls the actual procedure, and then packs the results to send back.</strong></p><h4 id=synchronous-by-default>Synchronous by default
<a class=anchor href=#synchronous-by-default>#</a></h4><p>Traditional RPC calls are blocking, meaning the client sends a request to the server and gets blocked waiting for a response from the server.</p><h4 id=language-neutral>Language Neutral
<a class=anchor href=#language-neutral>#</a></h4><p>Many RPC systems allow different client and server implementations to communicate regardless of the language they&rsquo;re written in.</p><h4 id=tight-coupling>Tight Coupling
<a class=anchor href=#tight-coupling>#</a></h4><p>RPC often requires the client and server to know the procedure being called, its parameters, and its return type.</p><h3 id=use-cases-4>Use Cases
<a class=anchor href=#use-cases-4>#</a></h3><p>Distributed Systems: <strong>RPC is commonly used in distributed systems</strong> where parts of a system are spread across different machines or networks but need to communicate as if they&rsquo;re local.</p><p>Network File Systems: NFS (Network File System) is an example of RPCs performing file operations remotely.、</p><h3 id=examples-4>Examples
<a class=anchor href=#examples-4>#</a></h3><p>Request</p><pre tabindex=0><code>{
    &#34;method&#34;: &#34;addUser&#34;,
    &#34;params&#34;: [
        &#34;Alex&#34;
    ]
}
</code></pre><p>Response</p><pre tabindex=0><code>{    
    &#34;id&#34;: 42,
    &#34;name&#34;: &#34;Alex&#34;,
	&#34;error&#34;: null
}
</code></pre><h3 id=grpc>gRPC
<a class=anchor href=#grpc>#</a></h3><p><strong>Format: Protobuf</strong></p><p><strong>Transport protocol: HTTP/2</strong></p><h3 id=key-concepts-and-characteristics-5>Key Concepts and Characteristics
<a class=anchor href=#key-concepts-and-characteristics-5>#</a></h3><h4 id=definition-1>Definition
<a class=anchor href=#definition-1>#</a></h4><p>gRPC is an open-source RPC framework developed by Google. It uses HTTP/2 for transport, Protocol Buffers (Protobuf) as the interface description language, and provides authentication, load balancing features, and more.</p><h4 id=protocol-buffers>Protocol Buffers
<a class=anchor href=#protocol-buffers>#</a></h4><p>This is a language-neutral, platform-neutral, extensible mechanism for serializing structured data. With gRPC, you define service methods and message types using Protobuf.</p><h4 id=performance>Performance
<a class=anchor href=#performance>#</a></h4><p>gRPC is designed for low latency and high throughput communication. HTTP/2 allows for multiplexing multiple calls over a single connection and reduces overhead.</p><h4 id=streaming>Streaming
<a class=anchor href=#streaming>#</a></h4><p>gRPC supports streaming requests and responses, allowing for more complex use cases like long-lived connections, real-time updates, etc.</p><h4 id=deadlinestimeouts>Deadlines/Timeouts
<a class=anchor href=#deadlinestimeouts>#</a></h4><p>gRPC allows clients to specify <strong>how long they will wait for an RPC to complete</strong>. The server can check this and decide whether to complete the operation or abort if it will likely take too long.</p><h4 id=pluggable>Pluggable
<a class=anchor href=#pluggable>#</a></h4><p>gRPC is designed to support pluggable authentication, load balancing, retries, etc.</p><h4 id=language-neutral-1>Language Neutral
<a class=anchor href=#language-neutral-1>#</a></h4><p>Like RPC, gRPC is language agnostic. However, with Protobuf and the gRPC tooling, generating client and server code in multiple languages is easy.</p><h3 id=use-cases-5>Use Cases
<a class=anchor href=#use-cases-5>#</a></h3><p>Microservices: gRPC is commonly used in microservices architectures due to its performance characteristics and ability to define service contracts easily.</p><p>Real-time Applications: Given its support for streaming, gRPC is suitable for real-time applications where servers push data to clients in real-time.</p><p>Mobile Clients: gRPC&rsquo;s performance benefits and streaming capabilities make it a good fit for mobile clients communicating with backend services.</p><h3 id=examples-5>Examples
<a class=anchor href=#examples-5>#</a></h3><p>Request</p><pre tabindex=0><code>message User {
  int id = 1
  string name = 2
}

service UserService {
  rpc AddUser(User) returns (User);
}
</code></pre><h2 id=soap>SOAP
<a class=anchor href=#soap>#</a></h2><p><img src=https://cdn.jsdelivr.net/gh/timerring/scratchpad2023/2024/2025-01-19-16-02-09.png alt></p><p><strong>SOAP</strong>, which stands for Simple Object Access Protocol, is a protocol for exchanging structured information to implement web services in computer networks. It&rsquo;s an <strong>XML-based</strong> protocol that allows programs running on disparate operating systems to communicate with each other.</p><p><strong>Format: XML</strong></p><p><strong>Transport protocol: HTTP/HTTPS, JMS, SMTP, and more</strong></p><h3 id=key-concepts-and-characteristics-6>Key Concepts and Characteristics
<a class=anchor href=#key-concepts-and-characteristics-6>#</a></h3><h4 id=xml-based>XML-Based
<a class=anchor href=#xml-based>#</a></h4><p>SOAP messages are formatted in XML and contain the following elements:</p><ul><li>Envelope: The root element of a SOAP message that defines the XML document as a <strong>SOAP message</strong>.</li><li>Header: Contains any optional attributes of the message used in processing the message, either at an intermediary point or the ultimate end-point.</li><li>Body: Contains the XML data comprising the message being sent.</li><li>Fault: An optional Fault element that provides information about errors while processing the message.</li></ul><h4 id=neutrality>Neutrality
<a class=anchor href=#neutrality>#</a></h4><p>SOAP can be used with any programming model and is not tied to a specific one.</p><h4 id=independence>Independence
<a class=anchor href=#independence>#</a></h4><p>It can run on any operating system and in any language.</p><h4 id=stateless-1>Stateless
<a class=anchor href=#stateless-1>#</a></h4><p>Each request from a client to a server must contain all the information needed to understand and process the request.</p><h4 id=built-in-error-handling>Built-in Error Handling
<a class=anchor href=#built-in-error-handling>#</a></h4><p>The Fault element in a SOAP message is used for error reporting.</p><h4 id=standardized>Standardized
<a class=anchor href=#standardized>#</a></h4><p>Operates based on well-defined standards, including the SOAP specification itself, as well as related standards like WS-ReliableMessaging for ensuring message delivery, WS-Security for message security, and more.</p><h3 id=use-cases-6>Use Cases
<a class=anchor href=#use-cases-6>#</a></h3><p>Enterprise Applications: SOAP is often used in enterprise settings due to its robustness, extensibility, and <strong>ability to traverse firewalls and proxies</strong>.</p><p>Web Services: Many web services, especially older ones, use SOAP. This includes services offered by major companies like Microsoft and IBM.</p><p>Financial Transactions: SOAP&rsquo;s built-in security and extensibility make it a good choice for financial transactions, where data integrity and security are paramount.</p><p>Telecommunications: Telecom companies might use SOAP for processes like billing, where different systems must communicate reliably.</p><h3 id=example>Example
<a class=anchor href=#example>#</a></h3><p>Request</p><pre tabindex=0><code>&lt;?xml version=&#34;1.0&#34;?&gt;
&lt;soap:Envelope&gt;
	&lt;soap:Body&gt;
		&lt;m:AddUserRequest&gt;
			&lt;m:Name&gt;Alex&lt;/m:Name&gt;
		&lt;/m:AddUserRequest&gt;
	&lt;/soap:Body&gt;
&lt;/soap:Envelope&gt;
</code></pre><p>Response</p><pre tabindex=0><code>&lt;?xml version=&#34;1.0&#34;?&gt;
&lt;soap:Envelope&gt;
	&lt;soap:Body&gt;
		&lt;m:AddUserResponse&gt;
			&lt;m:Id&gt;42&lt;/m:Id&gt;
			&lt;m:Name&gt;Alex&lt;/m:Name&gt;
		&lt;/m:AddUserResponse&gt;
	&lt;/soap:Body&gt;
&lt;/soap:Envelope&gt;
</code></pre><hr><div class=post-nav><a href="https://blog.timerring.com/posts/the-encode-and-decode-in-python/?utm_source=nav">&lt;&lt; prev | The Encode and...</a>
<a onclick=goToRandomPost() style=cursor:pointer>Continue strolling</a>
<a href="https://blog.timerring.com/posts/the-method-to-manage-traffic/?utm_source=nav">The Method to... ｜ next >></a></div><hr>If you find this blog useful and want to support my blog, need my skill for something, or have a coffee chat with me, feel free to:<div class=support><a href="https://www.patreon.com/bePatron?u=46962965" class=book-btn target=_blank>Subscribe Patreon to participate in blog topics and custom services</a>
<a href=https://ko-fi.com/S6S130C16 class=book-btn target=_blank>Buy me a coffee</a></div><div style=margin-bottom:8px></div><script>function goToRandomPost(){const e=["/posts/reflections-on-trending-topics/?utm_source=random","/posts/cpu-can-only-see-the-threads/?utm_source=random","/posts/go-common-test/?utm_source=random","/posts/go-concurrency-and-parallelism/?utm_source=random","/posts/go-cheatsheet/?utm_source=random","/posts/video-technology-101/?utm_source=random","/posts/the-main-kind-of-message-queue/?utm_source=random","/posts/the-method-to-manage-traffic/?utm_source=random","/posts/the-different-kind-of-api-design/?utm_source=random","/posts/the-encode-and-decode-in-python/?utm_source=random","/posts/about-the-systemd/?utm_source=random","/posts/docker-cheatsheet/?utm_source=random","/posts/docker-101/?utm_source=random","/posts/the-instance-class-static-magic-method-in-python/?utm_source=random","/posts/the-overview-of-security/?utm_source=random","/posts/how-to-publish-your-code-as-a-pip-module/?utm_source=random","/posts/some-good-things-to-share-about-the-packages/?utm_source=random","/posts/introduction-to-the-http-and-https-protocol/?utm_source=random","/posts/mail-service-and-protocol/?utm_source=random","/posts/thinking-about-advertisement-from-an-open-source-perspective/?utm_source=random","/posts/understanding-clash-through-configuration/?utm_source=random","/posts/a-brief-introduction-to-dns/?utm_source=random","/posts/real-computer-network/?utm_source=random","/posts/python-generator-iterator-and-decorator/?utm_source=random","/posts/python-underlying-mechanism/?utm_source=random","/posts/python-files-exceptions-and-modules/?utm_source=random","/posts/python-object-oriented-programming/?utm_source=random","/posts/python-cheatsheet/?utm_source=random","/posts/python-function-parameter/?utm_source=random","/posts/python-control-structure/?utm_source=random","/posts/python-composite-data-type/?utm_source=random","/posts/python-basic-data-type/?utm_source=random","/posts/python-basic-syntax-elements/?utm_source=random","/posts/deploy-github-pages-with-gpg-signing/?utm_source=random","/posts/gpg-101/?utm_source=random","/posts/housewarming-2024/?utm_source=random"],t=Math.floor(Math.random()*e.length);window.location.href=e[t]}</script></article><div class=book-comments><div class="book-tabs-content markdown-inner"><div id=tcomment></div><script src=https://giscus.app/client.js data-repo=timerring/blog data-repo-id=R_kgDONeZYZg data-category=Announcements data-category-id=DIC_kwDONeZYZs4ClRWs data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=en crossorigin=anonymous async></script></div></div><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script><div class=busuanzi-footer><p style=text-align:center>&copy; 2022 - present <a href=https://github.com/timerring>timerring</a> | PV: <span id=busuanzi_value_site_pv></span> | UV: <span id=busuanzi_value_site_uv></span></p></div></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#rest-api>REST API</a><ul><li><a href=#key-concepts-and-characteristics>Key Concepts and Characteristics</a><ul><li><a href=#resource>Resource</a></li><li><a href=#crud-operations>CRUD Operations</a></li><li><a href=#http-methods>HTTP Methods</a></li><li><a href=#status-codes>Status Codes</a></li><li><a href=#stateless>Stateless</a></li><li><a href=#client-server-architecture>Client-Server Architecture</a></li><li><a href=#cacheable>Cacheable</a></li><li><a href=#layered-system>Layered System</a></li><li><a href=#hateoas>HATEOAS</a></li></ul></li><li><a href=#use-cases>Use Cases</a></li><li><a href=#examples>Examples</a></li></ul></li><li><a href=#graphql-api>GraphQL API</a><ul><li><a href=#key-concepts-and-characteristics-1>Key Concepts and Characteristics</a><ul><li><a href=#query-language-for-apis>Query Language for APIs</a></li><li><a href=#type-system>Type System</a></li><li><a href=#single-endpoint>Single Endpoint</a></li><li><a href=#resolvers>Resolvers</a></li><li><a href=#real-time-updates-with-subscriptions>Real-time Updates with Subscriptions</a></li><li><a href=#introspective>Introspective</a></li></ul></li><li><a href=#use-cases-1>Use Cases</a></li><li><a href=#examples-1>Examples</a></li></ul></li><li><a href=#websocket>WebSocket</a><ul><li><a href=#key-concepts-and-characteristics-2>Key Concepts and Characteristics</a><ul><li><a href=#persistent-connection>Persistent Connection</a></li><li><a href=#upgrade-handshake>Upgrade Handshake</a></li><li><a href=#frames>Frames</a></li><li><a href=#low-latency>Low Latency</a></li><li><a href=#bidirectional>Bidirectional</a></li><li><a href=#less-overhead>Less Overhead</a></li><li><a href=#protocols-and-extensions>Protocols and Extensions</a></li></ul></li><li><a href=#use-cases-2>Use Cases</a></li><li><a href=#examples-2>Examples</a></li></ul></li><li><a href=#webhook>Webhook</a><ul><li><a href=#key-concepts-and-characteristics-3>Key Concepts and Characteristics</a><ul><li><a href=#event-driven>Event-Driven</a></li><li><a href=#callback-mechanism>Callback Mechanism</a></li><li><a href=#payload>Payload</a></li><li><a href=#real-time>Real-time</a></li><li><a href=#customizable>Customizable</a></li><li><a href=#security>Security</a></li></ul></li><li><a href=#use-cases-3>Use Cases</a></li><li><a href=#examples-3>Examples</a></li></ul></li><li><a href=#rpcgrpc>RPC/gRPC</a><ul><li><a href=#rpc>RPC</a></li><li><a href=#key-concepts-and-characteristics-4>Key Concepts and Characteristics</a><ul><li><a href=#definition>Definition</a></li><li><a href=#stubs>Stubs</a></li><li><a href=#synchronous-by-default>Synchronous by default</a></li><li><a href=#language-neutral>Language Neutral</a></li><li><a href=#tight-coupling>Tight Coupling</a></li></ul></li><li><a href=#use-cases-4>Use Cases</a></li><li><a href=#examples-4>Examples</a></li><li><a href=#grpc>gRPC</a></li><li><a href=#key-concepts-and-characteristics-5>Key Concepts and Characteristics</a><ul><li><a href=#definition-1>Definition</a></li><li><a href=#protocol-buffers>Protocol Buffers</a></li><li><a href=#performance>Performance</a></li><li><a href=#streaming>Streaming</a></li><li><a href=#deadlinestimeouts>Deadlines/Timeouts</a></li><li><a href=#pluggable>Pluggable</a></li><li><a href=#language-neutral-1>Language Neutral</a></li></ul></li><li><a href=#use-cases-5>Use Cases</a></li><li><a href=#examples-5>Examples</a></li></ul></li><li><a href=#soap>SOAP</a><ul><li><a href=#key-concepts-and-characteristics-6>Key Concepts and Characteristics</a><ul><li><a href=#xml-based>XML-Based</a></li><li><a href=#neutrality>Neutrality</a></li><li><a href=#independence>Independence</a></li><li><a href=#stateless-1>Stateless</a></li><li><a href=#built-in-error-handling>Built-in Error Handling</a></li><li><a href=#standardized>Standardized</a></li></ul></li><li><a href=#use-cases-6>Use Cases</a></li><li><a href=#example>Example</a></li></ul></li></ul></nav><style>.book-toc .book-toc-content a{color:var(--body-font-color)}</style></div></aside></main></body></html>