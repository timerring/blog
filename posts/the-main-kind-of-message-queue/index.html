<!doctype html><html lang=en dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Message queues are a form of asynchronous service-to-service communication. They are important in enhancing a system&rsquo;s scalability, reliability, and maintainability."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta name=keywords content="Components,Messaging Models,Point-to-Point,Publish-Subscribe,Direct Exchange,Topic Exchange,Fanout exchange,Header exchange,Dead letter,Protocols,AMQP (Advanced Message Queuing Protocol),MQTT (Message Queuing Telemetry Transport),JMS (Java Message Service),STOMP (Simple Text Oriented Messaging Protocol),Kafka Protocol,ZMTP (ZeroMQ Message Transport Protocol),Brokers,ActiveMQ,Scenarios:,Pros:,Cons:,RabbitMQ,Scenarios:,Pros:,Cons:,Kafka,Scenarios,Pros,Cons,ZeroMQ,Scenarios,Pros,Cons"><meta property="og:url" content="https://blog.timerring.com/posts/the-main-kind-of-message-queue/"><meta property="og:site_name" content="timerring"><meta property="og:title" content="The Main Kind of Message Queue"><meta property="og:description" content="Message queues are a form of asynchronous service-to-service communication. They are important in enhancing a system’s scalability, reliability, and maintainability."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-01-19T20:15:13+08:00"><meta property="article:tag" content="Reprint"><meta property="article:tag" content="Message Queue"><meta property="article:tag" content="ActiveMQ"><meta property="article:tag" content="RabbitMQ"><meta property="article:tag" content="Kafka"><meta property="article:tag" content="ZeroMQ"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/timerring/scratchpad2023/2024/2025-01-19-21-12-53.png"><meta itemprop=name content="The Main Kind of Message Queue"><meta itemprop=description content="Message queues are a form of asynchronous service-to-service communication. They are important in enhancing a system’s scalability, reliability, and maintainability."><meta itemprop=datePublished content="2025-01-19T20:15:13+08:00"><meta itemprop=dateModified content="2025-01-19T20:15:13+08:00"><meta itemprop=wordCount content="2467"><meta itemprop=image content="https://cdn.jsdelivr.net/gh/timerring/scratchpad2023/2024/2025-01-19-21-12-53.png"><meta itemprop=keywords content="Reprint,Message Queue,ActiveMQ,RabbitMQ,Kafka,ZeroMQ"><meta name=twitter:image content="https://cdn.jsdelivr.net/gh/timerring/scratchpad2023/2024/2025-01-19-21-12-53.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="The Main Kind of Message Queue"><meta name=twitter:description content="Message queues are a form of asynchronous service-to-service communication. They are important in enhancing a system’s scalability, reliability, and maintainability."><meta name=twitter:site content="@imjohnhowe"><link rel=canonical href=https://blog.timerring.com/posts/the-main-kind-of-message-queue/><title>The Main Kind of Message Queue | timerring</title>
<link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.d7a88d77202b21242efd3641ee0ccf6d2b317c3a57bcd08a48b51662fd988265.css integrity="sha256-16iNdyArISQu/TZB7gzPbSsxfDpXvNCKSLUWYv2YgmU=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script><script defer src=/en.search.min.2d06db1745c78f835ad860402745d4bdd59d717714d05b55fa42a3826576523f.js integrity="sha256-LQbbF0XHj4Na2GBAJ0XUvdWdcXcU0FtV+kKjgmV2Uj8=" crossorigin=anonymous></script><script defer src=/live-photo.min.efe7b2a516404d0718a4c6f90d2eb2f9c0bd8c7bddd382958716bcb24b660970.js integrity="sha256-7+eypRZATQcYpMb5DS6y+cC9jHvd04KVhxa8sktmCXA=" crossorigin=anonymous></script><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><meta name=referrer content="no-referrer-when-downgrade"></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><img src=/favicon.png alt=Logo><span>timerring</span></a></h2><hr><p>Rhythmic trend.</p><div class=book-search><div class=gcse-search></div></div><script async src="https://cse.google.com/cse.js?cx=40782701766144f96"></script><ul><li><a href=/>Dashboard</a></li><li><a href=/posts/>Blogs</a></li><li><a href=/categories/weekly/>Newsletter</a></li><li><a href=/index.xml>RSS</a></li><li><a href=/friends/>Friends</a></li><li><a href=/about/>About</a></li></ul><script>function goToRandomPost(){const e=["/posts/the-way-to-get-cookie/?utm_source=random","/posts/how-to-choose-the-right-software-and-creative-license/?utm_source=random","/posts/0516-add-live-photo-effect-to-hugo/?utm_source=random","/posts/the-practice-of-resolving-domain/?utm_source=random","/posts/hidden-markov-models/?utm_source=random","/posts/markov-chains/?utm_source=random","/posts/markov-processes/?utm_source=random","/posts/0418-find-the-formula-rendering-issue-of-hugo/?utm_source=random","/posts/multi-platform-builds-docker/?utm_source=random","/posts/0404-The-invitation-only-mechanism-from-clubhouse-to-manus/?utm_source=random","/posts/how-to-use-git-submodule/?utm_source=random","/posts/live-streaming-infra-and-protocols/?utm_source=random","/posts/implement-danmaku-rendering-algorithm-from-scratch/?utm_source=random","/posts/is-there-an-rss-renaissance-in-the-ai-era/?utm_source=random","/posts/stock-prices/?utm_source=random","/posts/possion-processes/?utm_source=random","/posts/docker-with-gpu/?utm_source=random","/posts/stochastic-processes/?utm_source=random","/posts/some-useful-tools/?utm_source=random","/posts/a-shopping-experience-in-pangdonglai-supermarket/?utm_source=random","/posts/langchain-and-rag-best-practices/?utm_source=random","/posts/random-walks/?utm_source=random","/posts/sequences-of-random-variables/?utm_source=random","/posts/parameter-estimation/?utm_source=random","/posts/two-random-variables/?utm_source=random","/posts/further-understanding-of-proc/?utm_source=random","/posts/the-iftop/?utm_source=random","/posts/some-useful-commands-to-share/?utm_source=random","/posts/random-variables/?utm_source=random","/posts/repeated-trials/?utm_source=random","/posts/probability-and-its-axioms/?utm_source=random","/posts/reflections-on-trending-topics/?utm_source=random","/posts/cpu-can-only-see-the-threads/?utm_source=random","/posts/go-common-test/?utm_source=random","/posts/go-concurrency-and-parallelism/?utm_source=random","/posts/go-cheatsheet/?utm_source=random","/posts/video-technology-101/?utm_source=random","/posts/the-main-kind-of-message-queue/?utm_source=random","/posts/the-method-to-manage-traffic/?utm_source=random","/posts/the-different-kind-of-api-design/?utm_source=random","/posts/the-encode-and-decode-in-python/?utm_source=random","/posts/about-the-systemd/?utm_source=random","/posts/the-tips-about-dockerfile/?utm_source=random","/posts/docker-cheatsheet/?utm_source=random","/posts/docker-101/?utm_source=random","/posts/the-instance-class-static-magic-method-in-python/?utm_source=random","/posts/the-review-and-plan-for-bilive/?utm_source=random","/posts/the-overview-of-security/?utm_source=random","/posts/how-to-publish-your-code-as-a-pip-module/?utm_source=random","/posts/some-good-things-to-share-about-the-packages/?utm_source=random","/posts/introduction-to-the-http-and-https-protocol/?utm_source=random","/posts/mail-service-and-protocol/?utm_source=random","/posts/understanding-clash-through-configuration/?utm_source=random","/posts/thinking-about-advertisement-from-an-open-source-perspective/?utm_source=random","/posts/a-brief-introduction-to-dns/?utm_source=random","/posts/real-computer-network/?utm_source=random","/posts/python-generator-iterator-and-decorator/?utm_source=random","/posts/python-underlying-mechanism/?utm_source=random","/posts/python-files-exceptions-and-modules/?utm_source=random","/posts/python-object-oriented-programming/?utm_source=random","/posts/python-cheatsheet/?utm_source=random","/posts/python-function-parameter/?utm_source=random","/posts/python-control-structure/?utm_source=random","/posts/python-composite-data-type/?utm_source=random","/posts/python-basic-data-type/?utm_source=random","/posts/python-basic-syntax-elements/?utm_source=random","/posts/deploy-github-pages-with-gpg-signing/?utm_source=random","/posts/gpg-101/?utm_source=random","/posts/housewarming-2024/?utm_source=random"],t=Math.floor(Math.random()*e.length);window.location.href=e[t]}</script><a class=random onclick=goToRandomPost()>Stroll</a></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu>
</label><strong>timerring</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#components>Components</a></li><li><a href=#messaging-models>Messaging Models</a><ul><li><a href=#point-to-point>Point-to-Point</a></li><li><a href=#publish-subscribe>Publish-Subscribe</a><ul><li><a href=#direct-exchange>Direct Exchange</a></li><li><a href=#topic-exchange>Topic Exchange</a></li><li><a href=#fanout-exchange>Fanout exchange</a></li><li><a href=#header-exchange>Header exchange</a></li><li><a href=#dead-letter>Dead letter</a></li></ul></li></ul></li><li><a href=#protocols>Protocols</a><ul><li><a href=#amqp-advanced-message-queuing-protocol>AMQP (Advanced Message Queuing Protocol)</a></li><li><a href=#mqtt-message-queuing-telemetry-transport>MQTT (Message Queuing Telemetry Transport)</a></li><li><a href=#jms-java-message-service>JMS (Java Message Service)</a></li><li><a href=#stomp-simple-text-oriented-messaging-protocol>STOMP (Simple Text Oriented Messaging Protocol)</a></li><li><a href=#kafka-protocol>Kafka Protocol</a></li><li><a href=#zmtp-zeromq-message-transport-protocol>ZMTP (ZeroMQ Message Transport Protocol)</a></li></ul></li><li><a href=#brokers>Brokers</a><ul><li><a href=#activemq>ActiveMQ</a><ul><li><a href=#scenarios>Scenarios:</a></li><li><a href=#pros>Pros:</a></li><li><a href=#cons>Cons:</a></li></ul></li><li><a href=#rabbitmq>RabbitMQ</a><ul><li><a href=#scenarios-1>Scenarios:</a></li><li><a href=#pros-1>Pros:</a></li><li><a href=#cons-1>Cons:</a></li></ul></li><li><a href=#kafka>Kafka</a><ul><li><a href=#scenarios-2>Scenarios</a></li><li><a href=#pros-2>Pros</a></li><li><a href=#cons-2>Cons</a></li></ul></li><li><a href=#zeromq>ZeroMQ</a><ul><li><a href=#scenarios-3>Scenarios</a></li><li><a href=#pros-3>Pros</a></li><li><a href=#cons-3>Cons</a></li></ul></li></ul></li></ul></nav><style>.book-toc .book-toc-content a{color:var(--body-font-color)}</style></aside></header><article class=markdown><h1>The Main Kind of Message Queue</h1><h5>January 19, 2025
·
12 min read
<span id=busuanzi_container_page_pv>· Page View: <span id=busuanzi_value_page_pv></span></span></h5><div><a href=/categories/tutorial/ style=color:#000>Tutorial</a></div><div><a href=/tags/reprint/ style=color:#000>Reprint</a> <span style=color:#000>| </span><a href=/tags/message-queue/ style=color:#000>Message Queue</a> <span style=color:#000>| </span><a href=/tags/activemq/ style=color:#000>ActiveMQ</a> <span style=color:#000>| </span><a href=/tags/rabbitmq/ style=color:#000>RabbitMQ</a> <span style=color:#000>| </span><a href=/tags/kafka/ style=color:#000>Kafka</a> <span style=color:#000>| </span><a href=/tags/zeromq/ style=color:#000>ZeroMQ</a></div><p><img src=https://cdn.jsdelivr.net/gh/timerring/scratchpad2023/2024/2025-01-19-21-12-53.png></p><p class=title-image><i>The Main Kind of Message Queue</i></p><blockquote class="book-hint info">If you have any questions, feel free to comment below.</blockquote><hr><p>Message queues are a form of asynchronous service-to-service communication. They are important in enhancing a system&rsquo;s scalability, reliability, and maintainability.</p><blockquote><p>Note: this article is reprint from the article : <a href=https://hackernoon.com/the-system-design-cheat-sheet-message-queues-activemq-rabbitmq-kafka-zeromq target=_blank rel="nofollow noopener">The System Design Cheat Sheet: Message Queues - ActiveMQ, RabbitMQ, Kafka, ZeroMQ<span style=white-space:nowrap><svg width=".7em" height=".7em" viewBox="0 0 21 21"><path d="m13 3 3.293 3.293-7 7 1.414 1.414 7-7L21 11V3z" fill="currentcolor"/><path d="M19 19H5V5h7l-2-2H5c-1.103.0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103.0 2-.897 2-2v-5l-2-2v7z" fill="currentcolor"/></span></a>, the author is Aleksandr Gavrilenko who I really appreciate.</p></blockquote><p>The list of key features:</p><ul><li><strong>Asynchronous Communication</strong>: Allows different parts of a system to communicate without needing to respond immediately, leading to more efficient use of resources.</li><li><strong>Decoupling of Services</strong>: Enables services to operate independently, reducing the system&rsquo;s complexity and enhancing maintainability and scalability.</li><li><strong>Load Balancing</strong>: Distributes messages evenly across different services or workers, helping to manage workload and improve system performance.</li><li><strong>Order Preservation</strong>: Some message queues can ensure that messages are processed in the order they are sent, which is crucial for specific applications.</li><li><strong>Scalability</strong>: Facilitates easy scaling of applications by adding more consumers or resources to handle increased message flow.</li><li><strong>Rate Limiting and Throttling</strong>: Controls the rate at which messages are processed, which is important for managing resources and preventing system overloads.</li><li><strong>Fan-out Capability</strong>: Message queues often include a fan-out mechanism, which allows a single message to be delivered to multiple consumers or services simultaneously.</li><li><strong>Data Persistence</strong>: Offers the ability to store messages on disk or in memory until they are successfully processed, ensuring data is not lost in case of system failures.</li><li><strong>Message Filtering and Routing</strong>: Allows messages to be routed or filtered based on specific criteria or content, enabling more targeted and efficient processing.</li></ul><h2 id=components>Components
<a class=anchor href=#components>#</a></h2><p>In the context of message queues, the concepts of <strong>producers</strong>, <strong>consumers</strong>, and <strong>messages</strong> form the core of how these systems operate.</p><p><img src=https://cdn.jsdelivr.net/gh/timerring/scratchpad2023/2024/2025-01-19-20-22-17.png alt></p><ul><li>Producer is an application or service responsible for creating and sending messages to the message queue. It does not need to be aware of who will process the message or when it will be processed.</li><li>Consumer is an application or service that retrieves and processes messages from the queue. It acts on the data sent by producers.</li><li>Messages are the data packets sent from producers to consumers. They can vary in size and format, ranging from simple text strings to complex data structures like JSON or XML.</li><li>Message Broker is a middleware tool that facilitates communication between different applications or services by receiving messages from a sender and routing them to the appropriate receiver. It typically provides features like message queuing, routing, transformation, and delivery assurance.</li></ul><h2 id=messaging-models>Messaging Models
<a class=anchor href=#messaging-models>#</a></h2><p>Globally, there are two types of messaging: Point-to-Point and Publish-Subscribe.</p><h3 id=point-to-point>Point-to-Point
<a class=anchor href=#point-to-point>#</a></h3><p><img src=https://cdn.jsdelivr.net/gh/timerring/scratchpad2023/2024/2025-01-19-20-24-28.png alt></p><p>Messages sent by a producer are placed in a queue and are consumed by a single consumer. It ensures that each message is processed only once by one receiver.</p><h3 id=publish-subscribe>Publish-Subscribe
<a class=anchor href=#publish-subscribe>#</a></h3><p>Messages are published to a specific topic rather than a queue. Multiple consumers can subscribe to a topic and receive messages broadcast to that topic.</p><p>However, some messaging protocols and the brokers that support them use an additional Exchange component for routing. In that case, messages are published to an exchange in the broker first. The Exchange, acting as the routing agent, forwards these messages to the appropriate queue using its routing rules.</p><p>The following exchange operating modes are distinguished:</p><h4 id=direct-exchange>Direct Exchange
<a class=anchor href=#direct-exchange>#</a></h4><p>The message is routed to the queues whose binding key matches the message&rsquo;s routing key.</p><p><img src=https://cdn.jsdelivr.net/gh/timerring/scratchpad2023/2024/2025-01-19-20-27-17.png alt></p><h4 id=topic-exchange>Topic Exchange
<a class=anchor href=#topic-exchange>#</a></h4><p>The topic exchange will perform a wildcard match between the routing key and <strong>the routing pattern</strong> specified in the binding to publish messages to the queue.</p><p><img src=https://cdn.jsdelivr.net/gh/timerring/scratchpad2023/2024/2025-01-19-20-28-11.png alt></p><h4 id=fanout-exchange>Fanout exchange
<a class=anchor href=#fanout-exchange>#</a></h4><p>A message sent to a fan-out exchange is copied and forwarded to all the queues bound to the exchange.</p><p><img src=https://cdn.jsdelivr.net/gh/timerring/scratchpad2023/2024/2025-01-19-20-28-36.png alt></p><h4 id=header-exchange>Header exchange
<a class=anchor href=#header-exchange>#</a></h4><p>Header exchanges will use the message header attributes for routing.</p><p><img src=https://cdn.jsdelivr.net/gh/timerring/scratchpad2023/2024/2025-01-19-20-31-24.png alt></p><h4 id=dead-letter>Dead letter
<a class=anchor href=#dead-letter>#</a></h4><p>Dead letter queues collect messages that couldn’t be processed successfully for various reasons like processing errors, message expiration, or delivery issues.</p><p><img src=https://cdn.jsdelivr.net/gh/timerring/scratchpad2023/2024/2025-01-19-20-31-58.png alt></p><h2 id=protocols>Protocols
<a class=anchor href=#protocols>#</a></h2><p><strong>Message brokers</strong> are responsible for <strong>delivering messages from producers to consumers</strong>. They use specific protocols that define the rules and formats for messaging.</p><p>The most popular protocols in this domain are:</p><h3 id=amqp-advanced-message-queuing-protocol>AMQP (Advanced Message Queuing Protocol)
<a class=anchor href=#amqp-advanced-message-queuing-protocol>#</a></h3><p><img src=https://cdn.jsdelivr.net/gh/timerring/scratchpad2023/2024/2025-01-19-20-33-31.png alt></p><p>A binary protocol designed for message-oriented middleware with robustness, security, and interoperability. Ideal for complex and reliable enterprise messaging systems.</p><ul><li>Use Cases: Enterprise applications, financial systems, and business processes</li><li>Messaging Model: point-to-point, publish-subscribe</li><li>Security: TLS/SSL, SASL, PLAIN</li><li>Addressing: Uses exchange and queue-based addressing with routing capabilities</li><li>Architecture: Broker-based</li></ul><h3 id=mqtt-message-queuing-telemetry-transport>MQTT (Message Queuing Telemetry Transport)
<a class=anchor href=#mqtt-message-queuing-telemetry-transport>#</a></h3><p><img src=https://cdn.jsdelivr.net/gh/timerring/scratchpad2023/2024/2025-01-19-20-35-29.png alt></p><p>A lightweight, publish-subscribe network protocol optimized for high-latency or unreliable networks, ideal for IoT scenarios.</p><ul><li>Use Cases: IoT devices, home automation, mobile messaging applications</li><li>Messaging Model: publish-subscribe</li><li>Security: TLS/SSL, SASL, PLAIN</li><li>Addressing: It uses topic-based addressing where messages are published to topics</li><li>Architecture: Broker-based</li></ul><h3 id=jms-java-message-service>JMS (Java Message Service)
<a class=anchor href=#jms-java-message-service>#</a></h3><p><img src=https://cdn.jsdelivr.net/gh/timerring/scratchpad2023/2024/2025-01-19-20-38-03.png alt></p><p>A Java-based messaging standard offers interfaces for point-to-point and publish-subscribe messaging patterns in Java applications.</p><ul><li>Use Cases: Enterprise Java applications, integration of multiple Java-based systems</li><li>Messaging Model: point-to-point, publish-subscribe</li><li>Security: Relies on the underlying Java EE security model</li><li>Addressing: Uses JNDI for locating queues and topics</li><li>Architecture: It is often implemented on top of enterprise service buses or application servers.</li></ul><h3 id=stomp-simple-text-oriented-messaging-protocol>STOMP (Simple Text Oriented Messaging Protocol)
<a class=anchor href=#stomp-simple-text-oriented-messaging-protocol>#</a></h3><p><img src=https://cdn.jsdelivr.net/gh/timerring/scratchpad2023/2024/2025-01-19-20-39-29.png alt></p><p>A simple, text-based protocol that is easy to implement, suitable for scenarios where advanced messaging features are not a priority.</p><ul><li>Use Cases: Rapid development environments and simple messaging applications</li><li>Messaging Model: point-to-point, publish-subscribe</li><li>Security: PLAIN; relies on the underlying transport protocol for encryption</li><li>Addressing: Frame-based with headers for destination, content type, etc.</li><li>Architecture: Broker-based</li></ul><h3 id=kafka-protocol>Kafka Protocol
<a class=anchor href=#kafka-protocol>#</a></h3><p><img src=https://cdn.jsdelivr.net/gh/timerring/scratchpad2023/2024/2025-01-19-20-40-22.png alt></p><p>Associated with Apache Kafka, a distributed streaming platform capable of handling high-throughput data streams.</p><ul><li>Use Cases: Real-time analytics, data pipelines, stream processing applications</li><li>Messaging Model: publish-subscribe</li><li>Security: SSL/TLS, SASL</li><li>Addressing: Topic-based with partitioning for scalability.</li><li>Architecture: Distributed system architecture with brokers and coordination.</li></ul><h3 id=zmtp-zeromq-message-transport-protocol>ZMTP (ZeroMQ Message Transport Protocol)
<a class=anchor href=#zmtp-zeromq-message-transport-protocol>#</a></h3><p><img src=https://cdn.jsdelivr.net/gh/timerring/scratchpad2023/2024/2025-01-19-20-41-20.png alt></p><p>The underlying protocol for ZeroMQ is a high-performance asynchronous messaging library for building scalable, distributed applications.</p><ul><li>Use Cases: High-throughput, low-latency applications, microservices architecture.</li><li>Messaging Model: request-reply, publish-subscribe, pipeline, exclusive pair, etc.</li><li>Security: PLAIN, CurveZMQ, and ZAP</li><li>Addressing: Flexible addressing using sockets</li><li>Architecture: Library-based, enabling a brokerless design or various brokered configurations</li></ul><h2 id=brokers>Brokers
<a class=anchor href=#brokers>#</a></h2><table><thead><tr><th style=text-align:left></th><th style=text-align:center>ActiveMQ</th><th style=text-align:center>RabbitMQ</th><th style=text-align:center>Kafka</th><th style=text-align:center>ZeroMQ</th></tr></thead><tbody><tr><td style=text-align:left>Written in</td><td style=text-align:center>Java</td><td style=text-align:center>Erlang</td><td style=text-align:center>Scala</td><td style=text-align:center>C++</td></tr><tr><td style=text-align:left>Cross-platform</td><td style=text-align:center>yes</td><td style=text-align:center>yes</td><td style=text-align:center>yes</td><td style=text-align:center>yes</td></tr><tr><td style=text-align:left>Opensource</td><td style=text-align:center>yes</td><td style=text-align:center>yes</td><td style=text-align:center>yes</td><td style=text-align:center>yes</td></tr><tr><td style=text-align:left>Multiple languages</td><td style=text-align:center>yes</td><td style=text-align:center>yes</td><td style=text-align:center>yes</td><td style=text-align:center>yes</td></tr><tr><td style=text-align:left>Protocols</td><td style=text-align:center>AMQP, AUTO, MQTT, OpenWire, REST, RSS and Atom, Stomp, WSIF, WS Notification, XMPP, WebSocket</td><td style=text-align:center>AMQP, STOMP, MQTT, HTTP</td><td style=text-align:center>Binary over TCP</td><td style=text-align:center>TCP, UDP, inproc, PGM, IPC, TIPC, NORM, SOCKS5</td></tr><tr><td style=text-align:left>QoS</td><td style=text-align:center>at-least-once at-most-once</td><td style=text-align:center>at-least-once at-most-once</td><td style=text-align:center>at-least-once at-most-once exactly-once</td><td style=text-align:center>at-least-once at-most-once</td></tr><tr><td style=text-align:left>Message patterns</td><td style=text-align:center>Queue, Pub-Sub</td><td style=text-align:center>Queue, Pub-Sub, RPC</td><td style=text-align:center>Pub-Sub</td><td style=text-align:center>Request-Reply, Pub-Sub, Push-Pull, Dealer and Router, Pair, Exclusive Pair, etc</td></tr><tr><td style=text-align:left>Persistence</td><td style=text-align:center>Disk, DB</td><td style=text-align:center>Mem, Disk</td><td style=text-align:center>Disk</td><td style=text-align:center>-</td></tr></tbody></table><h3 id=activemq>ActiveMQ
<a class=anchor href=#activemq>#</a></h3><p><img src=https://cdn.jsdelivr.net/gh/timerring/scratchpad2023/2024/2025-01-19-20-47-25.png alt></p><p>Apache ActiveMQ is an open-source, multi-protocol, Java-based message broker designed by Apache. Architecture Features:</p><ul><li>Multi-Protocol Support: ActiveMQ supports a wide range of messaging protocols, including AMQP, MQTT, OpenWire, STOMP, and JMS (Java Message Service), making it highly adaptable to different client requirements.</li><li>JMS Provider: As a JMS provider, ActiveMQ complies with the JMS API, which allows loose coupling, asynchronous communication, and reliability for Java applications.</li><li>Broker-Based Architecture: ActiveMQ uses a broker architecture, where a <strong>central broker</strong> handles message routing, delivery, and queuing.</li><li>Pluggable Persistence and Storage: Offers options for message persistence, including <strong>database storage</strong> (for durability) and <strong>file-system storage</strong>, supporting both high-performance and high-durability scenarios.</li><li>Clustering and Load Balancing: Supports clustering and load balancing.</li><li>Client-Side Acknowledgements: Provides different options for message acknowledgments, enhancing message reliability.</li></ul><h4 id=scenarios>Scenarios:
<a class=anchor href=#scenarios>#</a></h4><ul><li>Enterprise Integration: Ideal for integrating different systems within an enterprise, mainly where Java-based or multiple protocols are used.</li><li>Asynchronous Communication: Useful in scenarios where decoupling system components is essential, like in microservices architecture.</li><li>Distributed Computing: Facilitates message communication in distributed systems, ensuring data consistency and reliability.</li><li>IoT Communication: Can be used in IoT setups, especially where MQTT is preferred.</li></ul><h4 id=pros>Pros:
<a class=anchor href=#pros>#</a></h4><ul><li>Versatility in Protocol Support: One of the key strengths of ActiveMQ is its support for multiple protocols, offering flexibility in various environments.</li><li>Reliability and Durability: Provides reliable message delivery and durable storage.</li><li>Clustering and High Availability: Supports clustering for load balancing and high availability.</li><li>JMS Support: Comprehensive support for the JMS API makes it a strong candidate for Java-based systems.</li></ul><h4 id=cons>Cons:
<a class=anchor href=#cons>#</a></h4><ul><li>Performance: While robust, ActiveMQ may not match the performance of some newer message brokers, especially in scenarios with extremely <strong>high throughput</strong> requirements.</li><li>Complex Configuration: Can be difficult to configure and manage, especially in clustered setups.</li><li>Resource Usage: Might require significant resources, particularly under heavy load, for optimal performance.</li><li>Management and Monitoring: While it offers management tools, they might be less comprehensive and user-friendly than those of some newer brokers.</li></ul><h3 id=rabbitmq>RabbitMQ
<a class=anchor href=#rabbitmq>#</a></h3><p><img src=https://cdn.jsdelivr.net/gh/timerring/scratchpad2023/2024/2025-01-19-20-52-02.png alt></p><p>RabbitMQ is an open-source message broker software known as a message-oriented middleware. It&rsquo;s written in Erlang and is built on the Open Telecom Platform framework for clustering and failover. RabbitMQ is widely used for handling asynchronous processing, enabling communication between distributed systems through various messaging protocols, primarily AMQP (Advanced Message Queuing Protocol).</p><ul><li>Support for Multiple Messaging Protocols: While RabbitMQ is primarily known for AMQP, it also supports MQTT, STOMP, and other protocols through plugins.</li><li>Producer-Consumer Model: It follows the standard producer-consumer pattern, where producers send messages and consumers receive them, with RabbitMQ acting as the broker.</li><li>Exchange-Queue Binding: Messages in RabbitMQ are published to exchanges, which are then routed to <strong>bound queues</strong> based on routing keys and patterns.</li><li>Durable and Transient Messaging: Supports <strong>durable (persistent on disk)</strong> and <strong>transient (in-memory) messages</strong>.</li><li>Clustering and High Availability: RabbitMQ can be clustered for high availability and scalability, distributing queues among multiple nodes.</li><li>Flexible Routing: Offers several exchange types (like direct, topic, fanout, and headers) for diverse routing logic.</li><li>Pluggable Authentication and Authorization: Supports pluggable authentication modules, including LDAP.</li></ul><h4 id=scenarios-1>Scenarios:
<a class=anchor href=#scenarios-1>#</a></h4><ul><li>Asynchronous Processing: Ideal for decoupling heavy processing tasks in web applications, ensuring responsive user interfaces.</li><li>Inter-Service Communication: Used in a microservices architecture for communicating between services.</li><li>Task Queues: Well-suited for handling background tasks like sending emails or processing images.</li><li>Distributed Systems: Facilitates message communication in distributed systems, maintaining consistency and reliability.</li></ul><h4 id=pros-1>Pros:
<a class=anchor href=#pros-1>#</a></h4><ul><li>Reliability: RabbitMQ is known for its reliability and ability to ensure message delivery.</li><li><strong>Flexible Routing Capabilities</strong>: Its routing capabilities are more advanced than those of many message brokers.</li><li>Scalability and High Availability: Supports scalable clustering, which is crucial for large-scale applications.</li><li>Wide Protocol Support: The ability to support multiple messaging protocols increases adaptability.</li><li><strong>Management Interface</strong>: Comes with a user-friendly management interface, which simplifies monitoring and managing message flows.</li></ul><h4 id=cons-1>Cons:
<a class=anchor href=#cons-1>#</a></h4><ul><li><strong>Memory Usage</strong>: It can be memory-intensive, especially under heavy load, requiring proper monitoring and tuning.</li><li>Erlang Dependency: Being built on Erlang, it introduces an additional technology stack that teams might need to familiarize themselves with.</li><li><strong>Performance Under High Load</strong>: While generally performant, performance tuning might be necessary under extremely high loads or in complex routing scenarios.</li></ul><h3 id=kafka>Kafka
<a class=anchor href=#kafka>#</a></h3><p><img src=https://cdn.jsdelivr.net/gh/timerring/scratchpad2023/2024/2025-01-19-20-57-44.png alt></p><p>Apache Kafka is an open-source stream-processing software platform developed by LinkedIn and later donated to the Apache Software Foundation. It&rsquo;s designed to handle high volumes of data and enable real-time data processing. Kafka is a distributed, partitioned, and replicated commit log service.</p><p>Architecture Features:</p><ul><li>Producer-Consumer Model: Kafka operates on a producer-consumer model. Producers publish messages to Kafka topics, and consumers subscribe to those topics to read the messages.</li><li>Topics and Partitions: Data in Kafka is categorized into topics. <strong>Each topic can be split into partitions, allowing for parallel data processing</strong>. Partitions also enable Kafka to scale horizontally.</li><li>Distributed System: Kafka runs as a cluster on one or more servers, and the Kafka cluster stores streams of records in categories called topics.</li><li>Replication: <strong>Kafka replicates data across multiple nodes (brokers) to ensure fault tolerance</strong>. If a node fails, data can be retrieved from other nodes.</li><li><strong>Zookeeper Coordination</strong>: Kafka uses ZooKeeper for cluster management and coordination, ensuring consistency across the cluster.</li><li>Commit Log Storage: Kafka stores all data as a sequence of records (or a commit log), providing durable message storage.</li></ul><h4 id=scenarios-2>Scenarios
<a class=anchor href=#scenarios-2>#</a></h4><ul><li>Real-Time Data Processing: <strong>Ideal</strong> for real-time analytics and monitoring systems where quick data processing is crucial.</li><li>Event Sourcing: Suitable for <strong>recording the sequence of events</strong> in applications.</li><li>Log Aggregation: Effective for collecting and processing logs from multiple services.</li><li>Stream Processing: Can be used for complex stream processing tasks like aggregating data streams or real-time filtering.</li><li>Integration with <strong>Big Data</strong> Technologies: Often used with big data tools for data processing and analysis.</li></ul><h4 id=pros-2>Pros
<a class=anchor href=#pros-2>#</a></h4><ul><li><strong>High Throughput</strong>: Can handle high volumes of data and many simultaneous transactions.</li><li>Scalability: Easily scalable both horizontally and vertically.</li><li>Durability and Reliability: Provides durable storage of messages.</li><li>Fault Tolerance: High fault tolerance due to data replication.</li><li>Flexibility: Can be used for a wide range of use cases, from messaging systems to activity tracking and log aggregation.</li></ul><h4 id=cons-2>Cons
<a class=anchor href=#cons-2>#</a></h4><ul><li>Complexity: Setup and management can be complex, especially for large clusters.</li><li><strong>Resource Intensive</strong>: Can be resource-intensive, requiring <strong>a good amount of memory and CPU</strong>.</li><li>Dependency on <strong>ZooKeeper</strong>: Relies on ZooKeeper for coordination, adding an extra component to manage.</li><li>Latency: While fast, it may not be suitable for use cases requiring extremely low latency.</li></ul><h3 id=zeromq>ZeroMQ
<a class=anchor href=#zeromq>#</a></h3><p><img src=https://cdn.jsdelivr.net/gh/timerring/scratchpad2023/2024/2025-01-19-21-06-03.png alt></p><p>ZeroMQ (ØMQ, 0MQ, or ZMQ) is a high-performance asynchronous messaging library for distributed or concurrent applications. It&rsquo;s <strong>not a message broker but a library that abstracts socket communication into a message-oriented middleware</strong>, making it easier to implement complex communication patterns in a scalable way. Developed in C++, ZeroMQ can be used in various programming languages through bindings.</p><p>Architecture Features:</p><ul><li>Socket-Based Communication: ZeroMQ uses <strong>sockets</strong> that abstract away the complexity of low-level network programming. These sockets can be used in patterns like publish-subscribe, request-reply, and fan-out.</li><li>Brokerless Design: Unlike traditional message brokers, ZeroMQ is brokerless, <strong>allowing direct communication between endpoints without requiring a central message broker</strong>.</li><li><strong>Scalable Multithreading</strong>: Provides a way to manage multiple threads with socket-based communication, facilitating scalable I/O bound operations.</li><li>Asynchronous I/O: Supports <strong>non-blocking, asynchronous I/O operations</strong>, which is critical for building responsive, high-performance applications.</li><li>Language Agnostic: Offers bindings for multiple programming languages, making it accessible from different technology stacks.</li></ul><h4 id=scenarios-3>Scenarios
<a class=anchor href=#scenarios-3>#</a></h4><ul><li>Microservices: Ideal for inter-service communication in a microservices architecture.</li><li>High-Performance Computing: Used in parallel processing systems where performance is critical.</li><li>Distributed Systems: Suitable for scenarios requiring complex, distributed messaging patterns without the overhead of a broker.</li><li>Real-time Communication:** Effective in systems needing low-latency, real-time data exchange**.</li></ul><h4 id=pros-3>Pros
<a class=anchor href=#pros-3>#</a></h4><ul><li><strong>High Performance</strong>: ZeroMQ is designed for high throughput and low latency, making it suitable for performance-critical applications.</li><li><strong>Flexibility in Messaging Patterns</strong>: Supports various messaging patterns, providing flexibility for different communication scenarios.</li><li><strong>Reduced Complexity</strong>: The brokerless architecture simplifies deployment and reduces system complexity.</li><li><strong>Scalability</strong>: Facilitates easy scaling of applications with its efficient handling of multiple connections.</li><li><strong>Lightweight</strong>: Less resource-intensive compared to traditional messaging brokers.</li></ul><h4 id=cons-3>Cons
<a class=anchor href=#cons-3>#</a></h4><ul><li><strong>No Built-in Durability or Message Persistence</strong>: Lacks built-in message durability or persistence support, which must be handled externally.</li><li>Requires Explicit Management of Connections: <strong>Developers need to manage connections, retries, and error handling</strong>, which can add complexity to application logic.</li><li>Lack of a Central Broker: While this can be an advantage, it also means needing more centralized management, monitoring, and control over the messaging system.</li></ul><h2>Related readings</h2><ul><li><a href="/posts/the-method-to-manage-traffic/?utm_source=related">The Method to Manage Traffic</a></li><li><a href="/posts/the-different-kind-of-api-design/?utm_source=related">The Different Kind of API Design</a></li></ul><hr><div class=post-nav><a href="https://blog.timerring.com/posts/the-method-to-manage-traffic/?utm_source=nav">&lt;&lt; prev | The Method to...</a>
<a onclick=goToRandomPost() style=cursor:pointer>Continue strolling
</a><a href="https://blog.timerring.com/posts/video-technology-101/?utm_source=nav">Video... ｜ next >></a></div><hr>If you find this blog useful and want to support my blog, need my skill for something, or have a coffee chat with me, feel free to:<div class=support><a href=https://ko-fi.com/polls/What-is-the-custom-topic-for-the-next-month-C0C219LHQJ class=book-btn target=_blank>Subscribe to participate in blog topics and custom services
</a><a href=https://ko-fi.com/timerring class=book-btn target=_blank>Buy me a coffee</a></div><div style=margin-bottom:8px></div><script>function goToRandomPost(){const e=["/posts/the-way-to-get-cookie/?utm_source=random","/posts/how-to-choose-the-right-software-and-creative-license/?utm_source=random","/posts/0516-add-live-photo-effect-to-hugo/?utm_source=random","/posts/the-practice-of-resolving-domain/?utm_source=random","/posts/hidden-markov-models/?utm_source=random","/posts/markov-chains/?utm_source=random","/posts/markov-processes/?utm_source=random","/posts/0418-find-the-formula-rendering-issue-of-hugo/?utm_source=random","/posts/multi-platform-builds-docker/?utm_source=random","/posts/0404-The-invitation-only-mechanism-from-clubhouse-to-manus/?utm_source=random","/posts/how-to-use-git-submodule/?utm_source=random","/posts/live-streaming-infra-and-protocols/?utm_source=random","/posts/implement-danmaku-rendering-algorithm-from-scratch/?utm_source=random","/posts/is-there-an-rss-renaissance-in-the-ai-era/?utm_source=random","/posts/stock-prices/?utm_source=random","/posts/possion-processes/?utm_source=random","/posts/docker-with-gpu/?utm_source=random","/posts/stochastic-processes/?utm_source=random","/posts/some-useful-tools/?utm_source=random","/posts/a-shopping-experience-in-pangdonglai-supermarket/?utm_source=random","/posts/langchain-and-rag-best-practices/?utm_source=random","/posts/random-walks/?utm_source=random","/posts/sequences-of-random-variables/?utm_source=random","/posts/parameter-estimation/?utm_source=random","/posts/two-random-variables/?utm_source=random","/posts/further-understanding-of-proc/?utm_source=random","/posts/the-iftop/?utm_source=random","/posts/some-useful-commands-to-share/?utm_source=random","/posts/random-variables/?utm_source=random","/posts/repeated-trials/?utm_source=random","/posts/probability-and-its-axioms/?utm_source=random","/posts/reflections-on-trending-topics/?utm_source=random","/posts/cpu-can-only-see-the-threads/?utm_source=random","/posts/go-common-test/?utm_source=random","/posts/go-concurrency-and-parallelism/?utm_source=random","/posts/go-cheatsheet/?utm_source=random","/posts/video-technology-101/?utm_source=random","/posts/the-main-kind-of-message-queue/?utm_source=random","/posts/the-method-to-manage-traffic/?utm_source=random","/posts/the-different-kind-of-api-design/?utm_source=random","/posts/the-encode-and-decode-in-python/?utm_source=random","/posts/about-the-systemd/?utm_source=random","/posts/the-tips-about-dockerfile/?utm_source=random","/posts/docker-cheatsheet/?utm_source=random","/posts/docker-101/?utm_source=random","/posts/the-instance-class-static-magic-method-in-python/?utm_source=random","/posts/the-review-and-plan-for-bilive/?utm_source=random","/posts/the-overview-of-security/?utm_source=random","/posts/how-to-publish-your-code-as-a-pip-module/?utm_source=random","/posts/some-good-things-to-share-about-the-packages/?utm_source=random","/posts/introduction-to-the-http-and-https-protocol/?utm_source=random","/posts/mail-service-and-protocol/?utm_source=random","/posts/understanding-clash-through-configuration/?utm_source=random","/posts/thinking-about-advertisement-from-an-open-source-perspective/?utm_source=random","/posts/a-brief-introduction-to-dns/?utm_source=random","/posts/real-computer-network/?utm_source=random","/posts/python-generator-iterator-and-decorator/?utm_source=random","/posts/python-underlying-mechanism/?utm_source=random","/posts/python-files-exceptions-and-modules/?utm_source=random","/posts/python-object-oriented-programming/?utm_source=random","/posts/python-cheatsheet/?utm_source=random","/posts/python-function-parameter/?utm_source=random","/posts/python-control-structure/?utm_source=random","/posts/python-composite-data-type/?utm_source=random","/posts/python-basic-data-type/?utm_source=random","/posts/python-basic-syntax-elements/?utm_source=random","/posts/deploy-github-pages-with-gpg-signing/?utm_source=random","/posts/gpg-101/?utm_source=random","/posts/housewarming-2024/?utm_source=random"],t=Math.floor(Math.random()*e.length);window.location.href=e[t]}</script></article><div class=book-comments><div class="book-tabs-content markdown-inner"><div id=tcomment></div><script src=https://giscus.app/client.js data-repo=timerring/blog data-repo-id=R_kgDONeZYZg data-category=Announcements data-category-id=DIC_kwDONeZYZs4ClRWs data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=en crossorigin=anonymous async></script></div></div><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script><div class=busuanzi-footer><p style=text-align:center>&copy; 2022 - present <a href=https://github.com/timerring>timerring</a> | PV: <span id=busuanzi_value_site_pv></span> | UV: <span id=busuanzi_value_site_uv></span></p></div></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#components>Components</a></li><li><a href=#messaging-models>Messaging Models</a><ul><li><a href=#point-to-point>Point-to-Point</a></li><li><a href=#publish-subscribe>Publish-Subscribe</a><ul><li><a href=#direct-exchange>Direct Exchange</a></li><li><a href=#topic-exchange>Topic Exchange</a></li><li><a href=#fanout-exchange>Fanout exchange</a></li><li><a href=#header-exchange>Header exchange</a></li><li><a href=#dead-letter>Dead letter</a></li></ul></li></ul></li><li><a href=#protocols>Protocols</a><ul><li><a href=#amqp-advanced-message-queuing-protocol>AMQP (Advanced Message Queuing Protocol)</a></li><li><a href=#mqtt-message-queuing-telemetry-transport>MQTT (Message Queuing Telemetry Transport)</a></li><li><a href=#jms-java-message-service>JMS (Java Message Service)</a></li><li><a href=#stomp-simple-text-oriented-messaging-protocol>STOMP (Simple Text Oriented Messaging Protocol)</a></li><li><a href=#kafka-protocol>Kafka Protocol</a></li><li><a href=#zmtp-zeromq-message-transport-protocol>ZMTP (ZeroMQ Message Transport Protocol)</a></li></ul></li><li><a href=#brokers>Brokers</a><ul><li><a href=#activemq>ActiveMQ</a><ul><li><a href=#scenarios>Scenarios:</a></li><li><a href=#pros>Pros:</a></li><li><a href=#cons>Cons:</a></li></ul></li><li><a href=#rabbitmq>RabbitMQ</a><ul><li><a href=#scenarios-1>Scenarios:</a></li><li><a href=#pros-1>Pros:</a></li><li><a href=#cons-1>Cons:</a></li></ul></li><li><a href=#kafka>Kafka</a><ul><li><a href=#scenarios-2>Scenarios</a></li><li><a href=#pros-2>Pros</a></li><li><a href=#cons-2>Cons</a></li></ul></li><li><a href=#zeromq>ZeroMQ</a><ul><li><a href=#scenarios-3>Scenarios</a></li><li><a href=#pros-3>Pros</a></li><li><a href=#cons-3>Cons</a></li></ul></li></ul></li></ul></nav><style>.book-toc .book-toc-content a{color:var(--body-font-color)}</style></div></aside></main></body></html>